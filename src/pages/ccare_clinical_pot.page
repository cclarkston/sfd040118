<apex:page showheader="false" sidebar="false" standardStylesheets="false" controller="dp_clinical_pot" docType="html-5.0" >
<head>
  <meta charset="UTF-8" />
  <title>HopeRx</title>
    <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/dp_css_main.css')}"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

<!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>-->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css' />

  <link rel="icon" type="image/png" href="{!$Resource.CCFavIcon}" />
  <link rel="icon shortcut"  href="{!$Resource.CCFavIcon}" />
  

<!--  <apex:stylesheet value="{!URLFOR($Resource.Modal_Resources,'modal/style.css')}" />-->
<!--  <apex:includeScript value="{!URLFOR($Resource.Modal_Resources,'modal/script.js')}"/>-->
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/mmenu_nav.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/dp_css_main.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/fonts.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc-hrxfont.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc-buttons.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc-patient.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc-clinical-calendar.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc-clinical.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc-pot.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/style.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc-perio.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/forms.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/cc-printClinical.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/generic-print.css')}" html-media="print"/>

  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/ccare_clinical_pot_page.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.Dental_Practice_Resources, 'css/ccare_clinical_pot_page_print.css')}" html-media="print"/>

  <apex:includeScript value="{!URLFOR($Resource.Dental_Practice_Resources,'js/cc-clinical-calendar.js')}"/>
  <apex:includeScript value="{!URLFOR($Resource.Dental_Practice_Resources,'js/cc-patient.js')}"/>

  <script type="text/javascript" src="{!URLFOR($Resource.Scriptaculous, 'lib/prototype.js')}"></script>
  <script type="text/javascript" src="{!URLFOR($Resource.Scriptaculous, 'src/scriptaculous.js')}"></script>
<script>
var $j = jQuery.noConflict();
// $j is now an alias to the jQuery function; creating the new alias is optional.
</script>

<style type="text/css" media="print">
  * {transition: none !important}

  .no-print {
    display:none !important;
  }
  
  .print-only {
    display:flex !important;
  }
  
  .narrative_label {
  font-weight:bold;
}

.narrative_section {
  padding-bottom:1em;
}
</style>

</head>



<style>
.no-display {
  display:none;
}

.print-only {
  display:none;
}

a.icon_hyperlink {
  text-decoration:none;
  color:inherit;
}

a.icon_hyperlink:focus , a.icon_hyperlink:hover {
  text-decoration:none;
}

.cc-subsection-button-error-hover {
  color:red;
}


.cc-subsection-button-error-hover:hover {
  background: yellow;
  color:black;
}


.file_drop_outer {
   position: relative;
   height: 5em;
   font-size: 12pt;
   color: #777;
   border: 2px dotted #58595b;
   max-width:500px;
   max-height:200px
 }
 .file_drop_inner {
   position: absolute;
   top: 50%;
   left: 0;
   right: 0;
   text-align: center;
   margin-top: -0.5em;
   margin-left: auto;
   margin-right: auto;
 }
 
 .cc-toolbar-button-icon-container:hover .cc-toolbar-button-icon-tooltip {
  display:block;
  opacity:1;
 }

.cc-sub-nav-cell [class^="ccf-"], [class*=" ccf-"] {
  line-height:1.2;
}

.icon_tooltip {
  position: relative;
}

.icon_tooltip .icon_tiptext {
  visibility: hidden;
  width: 150px;
  background-color: white;
  text-align: center;
  padding: 5px 0;
  border-radius: 6px;
  border:1px solid black;
  color: black;
  box-shadow: -1px 9px 31px -4px rgba(0,0,0,0.75);
  position: absolute;
  z-index: 1;
  top: 100%;
  left: 50%;
  margin-left: -75px;
  font-size:12pt;
}

.icon_tooltip:hover .icon_tiptext {
  visibility: visible;
}

.cc-back-container {
  display: flex;
  flex-direction: row;
}

  
  .center_header {
    display: flex;
    align-items: flex-end;
    width: 50%;
    min-width:500px;
    justify-content: flex-end;
    flex-grow: 2;
    text-align: right;
  }

  .print-only {
    display:none;
  }

  .patient_label {
color:#0000FF;
font-weight:bold;
}

.vertical-text {
	transform: rotate(270deg);
	transform-origin: center;
	font-weight:400;
	min-width: 60px;
}

.hover_add {
  color:black;
  text-decoration:none;
}

.hover_add:hover {
  color:white;
  text-decoration:none;
}

.hover_add:visited {
  text-decoration:none;
}

  body {
    font-family: 'Open Sans', sans-serif;
    margin: 0 auto;
    padding: 0;
  }

  .pad-main-wrapper {
    margin-top:145px;
  }

  a.nav_anchor {
    color:black;
    font-weight:300;
    font-size: 12pt;
    letter-spacing: 1px;
  }

  a.nav_anchor:hover {
    color:white;
    text-decoration:none;
  }

  span.dateFormat {
    display:none;
  }

  .cc-field-label {
    display:inline-block;
    padding-right:5px;
    font-weight:bold;
  }

  .cc-field-input {
    border:none;
    outline:0;
    font-szie:12pt;
  }

  .cc-email-attachment-item {
    display:inline-block;
    padding-right:20px;
  }

  .cc-email-attachment-remove {
    padding-left:10px;
    display:inline-block;
  }

  .cc-section-header-right-button-container a:hover {
    color:white;
    text-decoration:none;
  }

  table.bend_table {
      width:100%;
    }

    tr.bend_header {

    }

    .cc-bgColor-blue {
      background-color:rgb(10,102,224);
    }

    .gray_under {
       display:inline-block;
       border-bottom:1px solid #bfbfbf;
       padding-left:5px;
       padding-right:5px;
     <!--text-decoration: underline;
      -moz-text-decoration-color: #bfbfbf; /* Code for Firefox */
      text-decoration-color: #bfbfbf;-->
    }

    .hover-blue:hover {
      color:#189BEB;
    }

    .hover-over-red:hover {
      background-color: rgb(227,20,20);
    }

    .no-uline:hover {
      text-decoration:none;
    }

    tr.bend_header td {

    }

    tr.odd {

    }

    tr.odd td {
      padding-left:5px;
      border-bottom:1px dotted #bfbfbf;
    }

    tr.even {

    }

    tr.even td {
      padding-left:5px;
      background:#f5f5f5;
      border-bottom:1px dotted #bfbfbf;
    }

    .review_selection {
    background-color: rgba(25, 117, 210, 0.55);
    border: 4px solid rgba(25, 117, 210, 0.55);
}

</style>

<script type="text/javascript">
  var key_timeout;
  var update_timeout;
  var days_timeout;
  var search_in_progress = false;
  var update_in_progress = false;
  var days_in_progress = false;
  var open_ajax = 0;
  
  function increment_ajax() {
    open_ajax++;
  }
  
  function reduce_ajax() {
    open_ajax = open_ajax - 1;
  }

  function proc_qsearch_key() {
      if(search_in_progress)
        clearTimeout(key_timeout);
      search_in_progress = true;
      key_timeout = setTimeout("proc_refresh()",600);
    }

  function days_out_adjustment(e) {
    if(days_in_progress)
      clearTimeout(days_timeout);
    days_in_progress = true;
    days_timeout = setTimeout("pot_render_save()",1200);
  }

  function pot_adjustment(e) {
    if(update_in_progress)
      clearTimeout(update_timeout);
    update_in_progress = true;
    update_timeout = setTimeout("pot_save()",1200);
  }

  function pot_commit() {
    if(update_in_progress)
      clearTimeout(update_timeout);
    update_in_progress = false;
    pot_save();
  }

  function qsearch_key(e,flength) {
    if(search_in_progress)
      clearTimeout(key_timeout);
    var allow_search = false;
    $j('.psearch').each( function(i) {
        if(this.value.length>=2)
          allow_search = true;
      }    
    );  
    if(allow_search) {
      search_in_progress = true;
      key_timeout = setTimeout("search_patients()",1200);
    }     
  }

  function patient_search_done() {
    $j(".psearch_name").focus();
    var current_value = $j(".psearch_name").val();
    $j(".psearch_name").val('');
    $j(".psearch_name").val(current_value);
  }

  function pot_qsearch_key(e) {
    if(search_in_progress)
      clearTimeout(key_timeout);
    search_in_progress = true;
    key_timeout = setTimeout("pot_search_update()",600);
  }

  function apt_qsearch_key(e) {
    if(search_in_progress)
      clearTimeout(key_timeout);
    search_in_progress = true;
    key_timeout = setTimeout("body_refresh()",600);
  }

  function reset_asa_buttons() {
    if($j('#asa_button_1').attr('class')=="cc-form-notation-button-selected") {
      $j('#asa_button_1').removeClass('cc-form-notation-button-selected');
      $j('#asa_button_1').addClass('cc-form-notation-button');
    }
    if($j('#asa_button_2').attr('class')=="cc-form-notation-button-selected") {
      $j('#asa_button_2').removeClass('cc-form-notation-button-selected');
      $j('#asa_button_2').addClass('cc-form-notation-button');
    }
    if($j('#asa_button_3').attr('class')=="cc-form-notation-button-selected") {
      $j('#asa_button_3').removeClass('cc-form-notation-button-selected');
      $j('#asa_button_3').addClass('cc-form-notation-button');
    }
  }

  function toggle_form_button(obj) {
    if($j(obj).attr('class').replace("universal-toggle ","")=="cc-form-notation-button") {
      $j(obj).removeClass('cc-form-notation-button');
      $j(obj).addClass('cc-form-notation-button-selected');
    }
    else {
      $j(obj).removeClass('cc-form-notation-button-selected');
      $j(obj).addClass('cc-form-notation-button');
    }
  }

  function reset_form_buttons(myStringArray) {
    var arrayLength = myStringArray.length;
    for (var i = 0; i < arrayLength; i++) {
      var bid = myStringArray[i]
      //Do something
      $j('#' + bid).removeClass('cc-form-notation-button-selected');
      $j('#' + bid).addClass('cc-form-notation-button');
    }
  }

  $j(function(){
    /*
     * this swallows backspace keys on any non-input element.
     * stops backspace -> back
     */
    var rx = /INPUT|SELECT|TEXTAREA/i;

    $j(document).bind("keydown", function(e){
        //alert('Alert Pressed : ' + e.which);
        if( e.which == 8 ){ // 8 == backspace
            if(!rx.test(e.target.tagName) || e.target.disabled || e.target.readOnly ){
                e.preventDefault();
            }
        }
        if(e.which== 116) {
          e.preventDefault();
        }
    });
});

function renum_proc() {
  $j('.cc-appointment-procedures-container').each(function() {
    //alert('Test ' + this.id + ' Display : ' + $j(this).css('display'));
    var cnt = 1;
    if($j(this).css('display')=='block') {
      $j('#' + this.id + ' .cc-appointment-procedures-row').each(function() {
        //alert('Row : ' + this.id);
        $j('#' + this.id + ' .cc-appointment-procedures-number').each(function() {
          //alert('Number ' + $j(this).html());
          $j(this).html(cnt);
          cnt++;
        });
      });
    }
  });
}

function init_procedure_sort() {
//alert('start');
$j('.cc-appointment-procedures-container').each(function() {
  //alert('Test ' + this.id);
  Sortable.create(this.id,{tag:'div',only:'cc-appointment-procedures-row', onUpdate: function(item) {
    //alert('Item : ' + item.id);
    var pass_string = '';
    var pass_cnt = 1;
    $j('#' + item.id + ' .cc-appointment-procedures-row').each(function() { pass_string += this.id; if(pass_cnt>0) {pass_string += '&';} pass_cnt++; });
    pass_string = pass_string.substring(0, pass_string.length - 1);
    //alert('Pass String : ' + pass_string);
    proc_sort(pass_string);
  }

   });
  //alert('Finished');
  });
}

function init_apt_sort() {
//$j('.cc-patient-appointments-list').each(function() {
$j('.apt_identifier').each(function() {
  //alert('Test ' + this.id);
  Sortable.create(this.id,{tag:'div',only:'cc-patient-appointment-row-container', onUpdate: function(item) {
//  alert('Item : ' + item.id);
    var pass_string = '';
    var pass_cnt = 1;
 // $j('.cc-patient-appointments-list .cc-patient-appointment-row-container').each(function() { pass_string += this.id; if(pass_cnt>0) {pass_string += '&';} pass_cnt++;});
    $j('#' + item.id + ' .cc-patient-appointment-row-container').each(function() { pass_string += this.id; if(pass_cnt>0) {pass_string += '&';} pass_cnt++; });
    pass_string = pass_string.substring(0, pass_string.length - 1);
   // alert('Pass String : ' + pass_string);
    apt_sort(pass_string,item.id);
  }

   });
  //,{element:$j$j(this.id + ' .cc-patient-appointment-row-container'),handles: $j$j(this.id + ' .cc-patient-schedule-row-appointmentLabel')});
  //alert('Finished');
  });
  set_initial_heights();
}

function resize_open_rows() {
  $j('.cc-patient-appointment-row-container').each(function() {
    var parent = $j('#' + this.id);
    var icon_holder = parent.find('.cc-patient-schedule-appointment-arrow');
    if(icon_holder.attr('state')=='open') {
      var proc = parent.find('.cc-appointment-procedures-container');
      var currentHeight = proc.height();
      parent.animate({height: 50+currentHeight+'px'}, 500);
    }
    
  });
}

function fancy_display_procedures(apt_id) {
  var parent = $j('#' + apt_id);
  var child = parent.find('.cc-appointment-procedures-container');
  var icon_holder = parent.find('.cc-patient-schedule-appointment-arrow');
  var icon = parent.find('.cc-icon-collapsable');

  var label = parent.find('.cc-patient-schedule-row-appointmentLabel-container');
  var proc = parent.find('.cc-appointment-procedures-container');
  var currentHeight = proc.height();
  var note = parent.find('.cc-clinical-POT-note');
  var noteHeight = note.prop('scrollHeight');

  if(icon_holder.attr('state') == 'open') {
    //close
    child.slideUp();
    icon.removeClass('cc-rotate-90deg');
    if (noteHeight > 25) {
      //parent.animate({height: noteHeight}, 500);
      parent.animate({height: '100%'}, 500);
    }
    else {
      //parent.animate({height: '25px'}, 500);
      parent.animate({height: '100%'}, 500);
    }
    icon_holder.attr('state', 'collapsed');
  } else {
    child.slideDown();
    icon.addClass('cc-rotate-90deg');
    if (noteHeight > currentHeight ) {
      parent.animate({height: 5+noteHeight+'px'}, 500);
    }
    else {
      parent.animate({height: 50+currentHeight+'px'}, 500);
    }
    icon_holder.attr('state', 'open');
    init_procedure_sort();
  }
}

function display_procedures(div_id) {

  /*if($j('#' + div_id).css("display")=="none")
    $j('#' + div_id).css({'display':'block'});
  else
    $j('#' + div_id).css({'display':'none'});*/
}

function set_initial_heights() {
  $j('.cc-clinical-POT-note').each(function() {
    cc_adjustTextAreaHeight1($j(this));
  });
  resize_open_rows();
}

function cc_adjustTextAreaHeight1(elem) {
 /* var currentHeight = elem.prop('scrollHeight');
  var parent = elem.closest('.cc-patient-appointment-row-container');
  var arrow = parent.find('.cc-patient-schedule-row-appointmentLabel');
  var icon_holder = parent.find('.cc-patient-schedule-appointment-arrow');
  var state = icon_holder.attr('state');
  if (state == null) {
    state = 'collapsed';
  }

  if (currentHeight < 26 && state == 'collapsed') {
  }
  else if (currentHeight > 26 && state == 'collapsed') {
    elem.css('height', ('1px'));
    elem.css('height', (elem.prop('scrollHeight')+'px'));
    parent.css('height', ('1px'));
    parent.css('height', (elem.prop('scrollHeight')+'px'));
  }
  else if (currentHeight > 26 && state == 'open') {
    elem.css('height', ('1px'));
    elem.css('height', (elem.prop('scrollHeight')+'px'));
    if (currentHeight > parent.height()) {
      parent.css('height', ('1px'));
      parent.css('height', (25+elem.prop('scrollHeight')+'px'));
    }
  }*/
}

function print_a_form(divName,add_header) {
    var originalContents = document.body.innerHTML;
    var printContents = document.getElementById(divName).innerHTML;
    
    if(add_header) {    
      //var print_head = document.getElementById('hrx_print_header').innerHTML;
      var print_head = document.getElementById('header_oneline').innerHTML;

      document.body.innerHTML = '<style>.no-display {display:flex !important} .cc-form-header-container {font-size:14pt !important}  .cc-form-content-columnContainer {font-size:10pt} .cc-perio-prosth-row {  padding-top:1px;  padding-bottom:1px;} .cc-form-row-header { padding-top:1px; padding-bottom:1px; font-size:8pt;} .cc-form-content-container {margin-top: 4px;} .header_logo {max-height:50px;font-size:8pt;} .header_logo img {width:50% !important} .narrative_label {font-weight:bold;}.narrative_section {padding-bottom:1em;}</style>' + print_head + 
      printContents;
    } else {
      document.body.innerHTML = '<style>.header_logo img {width:50% !important} .narrative_label {font-weight:bold;}.narrative_section {padding-bottom:1em;}</style>' + printContents;
    }
    window.print();

    document.body.innerHTML = originalContents;
    init_apt_sort();
  }

  function canDropHere(event) {
    try {
      event.stopPropagation();
      event.preventDefault();
      return false;
    } catch(e) {console.log(e);return false;}
  }

  function sx_attachment_onDrop(event) {
       for (var i = 0; i < event.dataTransfer.files.length; i++) {
         var fr = new FileReader();
         fr.name = event.dataTransfer.files[i].name;
         fr.addEventListener("load", sx_attachment_onFileLoad, true);
         try {
           //fileName = event.dataTransfer.files[i].name;
           //console.log('f: ' + fileName);
           //console.log('Type : ' + event.dataTransfer.files[i].type);
           fr.readAsDataURL(event.dataTransfer.files[i]);
         } catch(e) { console.log(e); }
       }
       event.stopPropagation();
       event.preventDefault();
       return false;
     }

     function sx_attachment_onFileLoad(event) {
       p2 = event.currentTarget.result.match(/data:(.+);base64,(.+)/);
       console.log('Type ' + p2[1]);
       console.log('Base64 ' + p2[2]);
       console.log('Target ' + event.currentTarget);
       console.log('Name ' + event.currentTarget.name);

       console.log('Call to upload file here');
       sx_upload_file(event.currentTarget.name,p2[1],p2[2]);
     }

  function mc_attachment_onDrop(event) {
       for (var i = 0; i < event.dataTransfer.files.length; i++) {
         var fr = new FileReader();
         fr.name = event.dataTransfer.files[i].name;
         fr.addEventListener("load", mc_attachment_onFileLoad, true);
         try {
           //fileName = event.dataTransfer.files[i].name;
           //console.log('f: ' + fileName);
           //console.log('Type : ' + event.dataTransfer.files[i].type);
           fr.readAsDataURL(event.dataTransfer.files[i]);
         } catch(e) { console.log(e); }
       }
       event.stopPropagation();
       event.preventDefault();
       return false;
     }

     function mc_attachment_onFileLoad(event) {
       p2 = event.currentTarget.result.match(/data:(.+);base64,(.+)/);
       console.log('Type ' + p2[1]);
       console.log('Base64 ' + p2[2]);
       console.log('Target ' + event.currentTarget);
       console.log('Name ' + event.currentTarget.name);

       console.log('Call to upload file here');
       af_upload_file_mc(event.currentTarget.name,p2[1],p2[2]);
     }

  function attachment_onDrop(event) {
       for (var i = 0; i < event.dataTransfer.files.length; i++) {
         var fr = new FileReader();
         fr.name = event.dataTransfer.files[i].name;
         fr.addEventListener("load", attachment_onFileLoad, true);
         try {
           //fileName = event.dataTransfer.files[i].name;
           //console.log('f: ' + fileName);
           //console.log('Type : ' + event.dataTransfer.files[i].type);
           fr.readAsDataURL(event.dataTransfer.files[i]);
         } catch(e) { console.log(e); }
       }
       event.stopPropagation();
       event.preventDefault();
       return false;
     }

     function attachment_onFileLoad(event) {
       p2 = event.currentTarget.result.match(/data:(.+);base64,(.+)/);
       console.log('Type ' + p2[1]);
       console.log('Base64 ' + p2[2]);
       console.log('Target ' + event.currentTarget);
       console.log('Name ' + event.currentTarget.name);

       console.log('Call to upload file here');
       af_upload_file(event.currentTarget.name,p2[1],p2[2]);
     }

     function attachment_onLoad() {
       if ($j('#file_droparea').length) {
         var droparea = document.querySelector("#file_droparea");
         droparea.addEventListener("drop", attachment_onDrop, true);
         droparea.addEventListener("dragenter", canDropHere, true);
         droparea.addEventListener("dragover", canDropHere, true);
       }
       if ($j('#mc_file_droparea').length) {
         var droparea = document.querySelector("#mc_file_droparea");
         droparea.addEventListener("drop", mc_attachment_onDrop, true);
         droparea.addEventListener("dragenter", canDropHere, true);
         droparea.addEventListener("dragover", canDropHere, true);
       }
       if ($j('#sx_file_droparea').length) {
         var droparea = document.querySelector("#sx_file_droparea");
         droparea.addEventListener("drop", sx_attachment_onDrop, true);
         droparea.addEventListener("dragenter", canDropHere, true);
         droparea.addEventListener("dragover", canDropHere, true);
       }
     }
     
   function save_surgicalrx() {
     if(open_ajax<=0) {
       save_surgicalrx_no_ajax();
       open_ajax = 0;
     } else
       alert('The form is still processing some of your inputs. \r\n Please try again in a few seconds.  \r\n Open requests : ' + open_ajax);
   }
     
   function save_labrx() {
     if(open_ajax<=0) {
       save_labrx_no_ajax();
       open_ajax = 0;
     }
     else
       alert('The form is still processing some of your inputs. \r\n Please try again in a few seconds.  \r\n Open requests : ' + open_ajax);       
   }
   
   function toggle_lab_rx_boolean(cname,fname) {
     if(cname=='cc-form-notation-button-selected')
       toggle_lab_rx_field(fname,false);
     else
       toggle_lab_rx_field(fname,true);
   }
   
   function toggle_surgical_rx_picklist(cname,fname,fvalue) {
     if(cname.replace("universal-toggle ","")=='cc-form-notation-button-selected')
       toggle_surgical_rx_text(fname,'');
     else
       toggle_surgical_rx_text(fname,fvalue);
   }   
   
   function toggle_lab_rx_picklist(cname,fname,fvalue) {
     if(cname=='cc-form-notation-button-selected')
       toggle_lab_rx_text(fname,'');
     else
       toggle_lab_rx_text(fname,fvalue);
   }   
   
   function adjust_sub_section(cname,section_id) {
     //alert('Class Name : ' + cname);
     //alert('Section id : ' + section_id);
     if(cname.replace("universal-toggle ","")=='cc-form-notation-button')
       $j('#' + section_id).css("display", "none");
     else
       $j('#' + section_id).css("display", "flex");     
   }
   
   function adjust_other_type(cname,input_cname) {
     if(cname.replace("universal-toggle ","")!='cc-form-notation-button') {
       $j('.cc-patientProfile-input.cc-form-input-markSelected.' + input_cname).val('');
     } 
   }
   
   function boolean_sub_section(check_val,section_id) {
     if(check_val)
       $j('#' + section_id).css("display", "flex");
     else
       $j('#' + section_id).css("display", "none");
   }
   
   function hide_sub_section(section_id) {
     $j('#' + section_id).css("display", "none");
   }
   
   function toggle_surgicalrx_boolean(cname,fname) {
     if(cname.replace("universal-toggle ","")=='cc-form-notation-button-selected')
       toggle_surgical_rx_boolean(fname,false);
     else
       toggle_surgical_rx_boolean(fname,true);
   }
   
   function adjust_system_type(select_cname,sys_value,cname) {   
     var newOptions;
     
     if(cname.replace("universal-toggle ","")=='cc-form-notation-button') {
       newOptions = {"Select Type" : ""};
     } else {     
       if(sys_value=='Nobel Biocare') {
         newOptions = {"Select Type" : "",
           "NobelActive NP": "NobelActive NP",
           "NobelActive RP": "NobelActive RP",
           "NobelReplace": "NobelReplace",
           "NobelSpeedy Groovy RP": "NobelSpeedy Groovy RP",
           "NobelSpeedy Groovy WP": "NobelSpeedy Groovy WP"
         };
       }
       if(sys_value=='Neodent') {
         newOptions = {"Select Type" : "",
           "Alvim CM": "Alvim CM",
           "Alvim Smart": "Alvim Smart",
           "Alvim Smart Acqua": "Alvim Smart Acqua",
           "Drive CM": "Drive CM",
           "Drive CM Acqua": "Drive CM Acqua",
           "Drive GM": "Drive GM",
           "Drive Smart": "Drive Smart",
           "Helix GM": "Helix GM",
           "Titamax CM": "Titamax CM",
           "Titamax CM EX": "Titamax CM EX",
           "Titamax CM EX Acqua": "Titamax CM EX Acqua",
           "Titamax GM": "Titamax GM",
           "Titamax Smart": "Titamax Smart",
           "Titamax Smart EX": "Titamax Smart EX"
         };
       }
       if(sys_value=='Straumann') {
         newOptions = {"Select Type" : "",
           "Bone Level (BL)": "Bone Level (BL)",
           "Bone Level Tapered (BLT)": "Bone Level Tapered (BLT)",
           "NNC Roxolid": "NNC Roxolid",
           "Standard (S)": "Standard (S)",
           "Standard Plus (SP)": "Standard Plus (SP)",
           "Tapered Effect (TE)": "Tapered Effect (TE)"
         };
       }
     }
    
	 var $my_select_list = $j(".cc-patientProfile-input." + select_cname);
	 $my_select_list.empty(); // remove old options
	 $j.each(newOptions, function(key,value) {
	   $my_select_list.append($j("<option></option>")
	     .attr("value", value).text(key));
	 });
	 $my_select_list.value = '';
        
   }

</script> 

<body>
<apex:form onsubmit="return true;">
<apex:outputpanel styleclass="cc-wrapper" layout="block">
<apex:actionFunction name="body_refresh" rerender="calendar_nav,main_holder" status="ajaxstatus" oncomplete="init_apt_sort();"/>
<apex:actionFunction name="nav_bar_refresh" rerender="nav_content" />
<apex:actionFunction name="drug_refresh" action="{!change_drug_filter}" rerender="main_holder" status="ajaxstatus">
  <apex:param name="dfilter" value=""  />
</apex:actionFunction>
<apex:actionFunction name="nav_to" action="{!navigate_to}" rerender="main_holder" status="ajaxstatus" >
  <apex:param name="navid" value=""  />
</apex:actionFunction>
<apex:actionFunction name="center_switch" action="{!change_center}" rerender="nav_content,calendar_nav,main_holder" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="cid" value="" />
</apex:actionFunction>
<apex:actionFunction name="update_health_other" rerender="mclearance_other_condition_holder" status="ajaxstatus" />
<apex:actionFunction name="opatient_search" action="{!open_patient_search}" rerender="main_holder" status="ajaxstatus" />
<apex:actionFunction name="cpatient_search" action="{!close_patient_search}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="cconfirmation_modal" action="{!close_confirmation_modal}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();"/>

<apex:outputpanel id="function_holder">
  <apex:actionFunction name="search_patients" rendered="{!allow_quick_search}" action="{!search_consult_records}" rerender="main_holder" status="ajaxstatus" oncomplete="patient_search_done();" />
  <apex:actionFunction name="search_patients" rendered="{!if(allow_quick_search,false,true)}" rerender="none" />
</apex:outputpanel>
<apex:actionFunction name="direct_search_patients" action="{!search_consult_records}" rerender="main_holder" status="ajaxstatus"/>

<apex:actionFunction name="more_patients" action="{!more_patient_records}" rerender="main_holder" status="ajaxstatus" oncomplete="patient_search_done();" />
<apex:actionFunction name="view_patient" action="{!select_search_patient}" rerender="calendar_nav,nav_content,main_holder" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="sptid" value=""  />
</apex:actionFunction>
<apex:actionFunction name="nav_to_recent" action="{!navigate_to_recent_patient}" rerender="none" >
  <apex:param name="recentid" value=""  />
</apex:actionFunction>
<apex:actionFunction name="onew_pot_form" action="{!new_treatment_form}" rerender="main_holder" status="ajaxstatus" />
<apex:actionFunction name="cnew_pot_form" action="{!close_treatment_form}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="change_pot" action="{!change_treatment_form}" rerender="main_holder" status="ajaxstatus" >
  <apex:param name="potid" value=""  />
</apex:actionFunction>
<apex:actionFunction name="change_pot_name" action="{!change_treatment_name}" rerender="main_holder" status="ajaxstatus" >
  <apex:param name="potid" value=""  />
</apex:actionFunction>


<apex:actionFunction name="change_pot_tab" action="{!select_dr_tab}" rerender="new_pot_holder" status="ajaxstatus" >
  <apex:param name="tname" value=""  />
</apex:actionFunction>
<apex:actionFunction name="lower_switch" action="{!lower_arch_change}" rerender="new_pot_holder" status="ajaxstatus" >
  <apex:param name="aname" value=""  />
</apex:actionFunction>
<apex:actionFunction name="upper_switch" action="{!upper_arch_change}" rerender="new_pot_holder" status="ajaxstatus" >
  <apex:param name="aname" value=""  />
</apex:actionFunction>
<apex:actionFunction name="pot_search_update" rerender="new_pot_holder" status="ajaxstatus" />
<apex:actionFunction name="select_plan" action="{!select_treatment_plan}" rerender="calendar_nav,main_holder" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="potid" value=""  />
</apex:actionFunction>
<apex:actionfunction name="changes_made" action="{!toggle_uncomitted_status}" rerender="none" />
<apex:actionFunction name="new_apt_form" action="{!new_appointment_form}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="potid" value=""  />
</apex:actionFunction>
<apex:actionFunction name="apt_select" action="{!select_appointment}" rerender="main_holder" oncomplete="init_apt_sort();">
  <apex:param name="aptid" value="" />
</apex:actionFunction>
<apex:actionFunction name="delete_apt" action="{!delete_pot_apt}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();"/>
<apex:actionFunction name="delete_procedure" action="{!delete_pot_proc}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();"/>
<apex:actionFunction name="delete_pot" action="{!delete_full_pot}" rerender="calendar_nav,main_holder" status="ajaxstatus" />
<apex:actionFunction name="apt_sort" reRender="main_holder" action="{!test_apt_sort}" oncomplete="init_apt_sort();" >
  <apex:param name="pthru" value="" />
  <apex:param name="potid" value="" />
</apex:actionFunction>
<apex:actionFunction name="proc_sort" rerender="calendar_nav" action="{!test_procedure_sort}" status="ajaxstatus" oncomplete="renum_proc();" >
  <apex:param name="pthru" value="" />
</apex:actionFunction>
<apex:actionFunction name="pot_save" rerender="none_holder" action="{!save_pot_changes}" />
<apex:actionFunction name="pot_render_save" rerender="main_holder" action="{!save_pot_changes}" oncomplete="init_apt_sort();" status="ajaxstatus" />
<apex:actionFunction name="edit_current_apt" rerender="main_holder" action="{!edit_selected_apt}" oncomplete="init_apt_sort();" status="ajaxstatus" >
  <apex:param name="aptid" value="" />
</apex:actionFunction>
<apex:actionFunction name="ovar_tooth_modal" rerender="main_holder" action="{!open_variable_tooth_modal}" status="ajaxstatus" >
  <apex:param name="object_type" value="" />
  <apex:param name="field_name" value="" />
  <apex:param name="chart_label" value="" />
</apex:actionFunction>
<apex:actionFunction name="otooth_modal" rerender="main_holder" action="{!open_tooth_modal}" status="ajaxstatus" >
  <apex:param name="procid" value="" />
</apex:actionFunction>
<apex:actionFunction name="ctooth_modal" rerender="main_holder" action="{!close_tooth_modal}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="cvar_tooth_modal" rerender="main_holder" action="{!close_variable_tooth_modal}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="toggle_tooth" rerender="tooth_holder" action="{!toggle_tooth_selection}" >
  <apex:param name="toothid" value="" />
</apex:actionFunction>
<apex:actionFunction name="toggle_var_tooth" rerender="var_tooth_holder" action="{!toggle_variable_tooth_selection}" >
  <apex:param name="toothid" value="" />
</apex:actionFunction>
<apex:actionFunction name="new_proc_form" action="{!new_procedure_form}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="aptid" value=""  />
</apex:actionFunction>
<apex:actionFunction name="proc_select" action="{!select_procedure}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();init_procedure_sort();">
  <apex:param name="prid" value="" />
</apex:actionFunction>
<apex:actionFunction name="proc_refresh" rerender="procedure_match_holder" />
<Apex:actionFunction name="check_proc_id" action="{!clear_proc_id}" rerender="none_holder" />
<apex:actionFunction name="open_history" action="{!open_history_modal}" rerender="main_holder" status="ajaxstatus" >
  <apex:param name="aptid" value="" />
</apex:actionFunction>
<apex:actionFunction name="confirm_nav_to" action="{!confirm_navigate_to}" rerender="none" status="ajaxstatus">
  <apex:param name="navid" value=""  />
</apex:actionFunction>
<apex:actionFunction name="close_history" rerender="main_holder" action="{!close_history_modal}" status="ajaxstatus" oncomplete="init_apt_sort();" />

<!-- medical clearance form methods -->
<apex:actionFunction name="new_clearance_form" rerender="main_holder" action="{!display_new_clearance_form}" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="potid" value="" />
</apex:actionFunction>
<apex:actionFunction name="edit_clearance_form" rerender="main_holder" action="{!edit_existing_clearance_form}" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="mcid" value="" />
</apex:actionFunction>
<apex:actionFunction name="confirm_cancel_clearance" rerender="main_holder" action="{!cancel_clearance_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="delete_med_clearance" rerender="main_holder" action="{!delete_clearance}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="save_med_clearance" rerender="main_holder" action="{!save_clearance}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="cclearance_form" rerender="main_holder" action="{!close_clearance_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="conf_cclearance_form" rerender="main_holder" action="{!confirm_close_clearance_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />

<!-- lab rx form methods -->
<apex:actionFunction name="new_lab_rx_form" rerender="main_holder" action="{!display_new_lab_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="potid" value="" />
</apex:actionFunction>
<apex:actionFunction name="edit_lab_rx_form" rerender="main_holder" action="{!edit_existing_lab_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="lrxid" value="" />
</apex:actionFunction>
<apex:actionFunction name="confirm_cancel_lab_rx" rerender="main_holder" action="{!cancel_lab_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="delete_labrx" rerender="main_holder" action="{!delete_lab_rx}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="save_labrx_no_ajax" rerender="main_holder" action="{!save_lab_rx}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="clab_form" rerender="main_holder" action="{!close_lab_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="toggle_lab_rx_field" action="{!change_lab_field}" rerender="none" oncomplete="reduce_ajax();">
  <apex:param name="fieldname" value=""  />
  <apex:param name="fieldvalue" value=""  />  
</apex:actionFunction>
<apex:actionFunction name="toggle_lab_rx_type" action="{!change_lab_type}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="fieldvalue" value=""  />  
</apex:actionFunction>
<apex:actionFunction name="toggle_lab_rx_text" action="{!change_lab_text}" rerender="none" oncomplete="reduce_ajax();">
  <apex:param name="fieldname" value=""  />
  <apex:param name="fieldvalue" value=""  />
</apex:actionFunction>
<apex:actionFunction name="reset_next_apt" action="{!reset_lab_next_apt}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="conf_clab_form" rerender="main_holder" action="{!confirm_close_lab_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />

<!-- surgical rx form methods -->
<apex:actionFunction name="update_srx" action="{!change_surgical_rx_include}" rerender="main_holder" status="ajaxstatus">
  <apex:param name="object_type" value="" />
  <apex:param name="field_name" value="" />
  <apex:param name="chart_label" value="" />
</apex:actionFunction>
<apex:actionFunction name="lab_rx_tooth_modal" action="{!open_lab_rx_tooth_modal}" rerender="main_holder" status="ajaxstatus">
  <apex:param name="object_type" value="" />
  <apex:param name="field_name" value="" />
  <apex:param name="chart_label" value="" />
</apex:actionFunction>

<apex:actionFunction name="toggle_surgical_rx_boolean" action="{!change_surgical_rx_boolean}" rerender="none" oncomplete="reduce_ajax();">
  <apex:param name="fieldname" value=""  />
  <apex:param name="fieldvalue" value=""  />  
</apex:actionFunction>
<apex:actionFunction name="toggle_surgical_rx_text" action="{!change_surgical_rx_text}" rerender="none" oncomplete="reduce_ajax();">
  <apex:param name="fieldname" value=""  />
  <apex:param name="fieldvalue" value=""  />
</apex:actionFunction>
<apex:actionFunction name="new_surgical_rx_form" rerender="main_holder" action="{!display_new_surgical_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="potid" value="" />
</apex:actionFunction>
<apex:actionFunction name="edit_surgical_rx_form" rerender="main_holder" action="{!edit_existing_surgical_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="srxid" value="" />
</apex:actionFunction>
<apex:actionFunction name="confirm_cancel_surgical_rx" rerender="main_holder" action="{!cancel_surgical_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="delete_surgicalrx" rerender="main_holder" action="{!delete_surgical_rx}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="save_surgicalrx_no_ajax" rerender="main_holder" action="{!save_surgical_rx}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="csurgical_form" rerender="main_holder" action="{!close_surgical_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="conf_csurgical_form" rerender="main_holder" action="{!confirm_close_surgical_rx_form}" status="ajaxstatus" oncomplete="init_apt_sort();" />

<!-- surgical rx attachment stuff -->
<apex:actionFunction name="sx_upload_file" action="{!upload_sx_file}" status="ajaxstatus" rerender="main_holder" oncomplete="attachment_onLoad();init_apt_sort();">
  <apex:param name="photo_name" value="" assignto="{!photo_name}"  />
  <apex:param name="photo_content_type" value="" assignto="{!photo_content_type}"  />
  <apex:param name="photo_data" value="" assignto="{!photo_data}"  />
</apex:actionFunction>
<apex:actionFunction name="display_sx_attachment_form" action="{!display_sx_file_upload}" rerender="srx_attachment" status="ajaxstatus" oncomplete="init_apt_sort();attachment_onLoad();">
  <apex:param name="sxid" value="" />
</apex:actionFunction>
<apex:actionFunction name="conf_sx_file_delete" rerender="main_holder" action="{!delete_sx_file_record}" status="ajaxstatus" oncomplete="attachment_onLoad();init_apt_sort();" />

<!-- lab rx attachment stuff -->
<apex:actionFunction name="display_rx_attachment_form" action="{!display_rx_file_upload}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();attachment_onLoad();">
  <apex:param name="lrxid" value="" />
</apex:actionFunction>
<apex:actionFunction name="af_upload_file" action="{!upload_rx_file}" status="ajaxstatus" rerender="main_holder" oncomplete="attachment_onLoad();init_apt_sort();">
  <apex:param name="photo_name" value="" assignto="{!photo_name}"  />
  <apex:param name="photo_content_type" value="" assignto="{!photo_content_type}"  />
  <apex:param name="photo_data" value="" assignto="{!photo_data}"  />
</apex:actionFunction>
<apex:actionFunction name="edit_attachment" rerender="srx_attachment" action="{!edit_file_attachment}" status="ajaxstatus" oncomplete="attachment_onLoad();init_apt_sort();">
  <apex:param name="fileid" value="" />
</apex:actionFunction>
<apex:actionFunction name="conf_lrx_file_delete" rerender="main_holder" action="{!delete_file_record}" status="ajaxstatus" oncomplete="attachment_onLoad();init_apt_sort();" />

<!-- medical clearance attachment stuff -->
<apex:actionFunction name="display_mc_attachment_form" action="{!display_mc_file_upload}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();attachment_onLoad();">
  <apex:param name="mcid" value="" />
</apex:actionFunction>
<apex:actionFunction name="af_upload_file_mc" action="{!upload_mc_file}" status="ajaxstatus" rerender="main_holder" oncomplete="attachment_onLoad();init_apt_sort();">
  <apex:param name="photo_name" value="" assignto="{!photo_name}"  />
  <apex:param name="photo_content_type" value="" assignto="{!photo_content_type}"  />
  <apex:param name="photo_data" value="" assignto="{!photo_data}"  />
</apex:actionFunction>
<apex:actionFunction name="conf_mc_file_delete" rerender="main_holder" action="{!delete_mc_file_record}" status="ajaxstatus" oncomplete="attachment_onLoad();init_apt_sort();" />

<!-- doctor review -->
<apex:actionFunction name="doctor_review_lab_rx" rerender="main_holder" action="{!review_lab_rx}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="doctor_review_surgical_rx" rerender="main_holder" action="{!review_surgical_rx}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="srx_review_confirmation" action="{!confirm_srx_review}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();"/>
<apex:actionFunction name="srx_review_edit" action="{!edit_srx_review}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();"/>

<!-- drug rx -->
<apex:actionFunction name="refresh_rx_list" rerender="main_holder" action="{!rx_refresh}" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="refresh_rx_list_no_target" action="{!rx_refresh}" rerender="" />

<apex:actionFunction name="select_plan_name" action="{!confirm_pot_name_change}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();">
  <apex:param name="potid" value=""  />
</apex:actionFunction>
<apex:actionFunction name="cancel_name_change" action="{!close_confirmation_pot_name}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();" />
<apex:actionFunction name="save_name_change" action="{!commit_pot_name_change}" rerender="main_holder" status="ajaxstatus" oncomplete="init_apt_sort();" />

<c:HopeRx_print_header CenterRecord="{!current_center}"  />
<c:HopeRx_print_header_single_line CenterRecord="{!current_center}"  />

<apex:outputpanel layout="block" styleclass="cc-nav-wrapper no-print">
  <apex:outputpanel styleclass="cc-nav-container">
    <apex:outputpanel styleclass="cc-top-nav-container" id="nav_content" layout="block">
      <div class="cc-top-nav-left">
        <apex:outputpanel id="back_holder" styleclass="cc-back-container" layout="block" >
          <apex:outputpanel ><a href="javascript:window.history.go(-1);" class="nav_color">&lt; Back</a></apex:outputpanel>
        </apex:outputpanel>
        <span class="spacer">&nbsp;</span>
        <div class="cc-link-dropdown-container">
          <span class="dropdown drop-hover">
          <a class="dropdown-toggle nav_color " data-toggle="dropdown"><apex:outputtext value="Recent Patients"  style="padding-right:5px;" styleClass="c-pointer"  /><span class="caret"></span></a>
            <ul class="dropdown-menu overflow-menu" >
              <apex:repeat var="rpatient" value="{!recent_records}">
                <li class="dropdown-lineitem">
                  <a href="javascript:nav_to_recent('{!rpatient.id}');" style="color:#189BEB"><apex:outputtext value="{!rpatient.name}" /></a>
                </li>
              </apex:repeat>
            </ul>
          </span>
        </div>
      </div>
      <div class="cc-top-nav-center">
        <div class="cc-link-dropdown-container">
          <span class="dropdown drop-hover">
          <a class="dropdown-toggle nav_color " data-toggle="dropdown"><apex:outputtext value="{!current_center.name}"  style="padding-right:5px;" styleClass="c-pointer"  /><span class="caret"></span></a>
            <ul class="dropdown-menu overflow-menu" >
              <apex:repeat var="center" value="{!center_list}">
                <li class="dropdown-lineitem">
                  <a href="javascript:center_switch('{!center.id}');" style="color:#189BEB"><apex:outputtext value="{!center.name}" /></a>
                </li>
              </apex:repeat>
            </ul>
          </span>
        </div>
      </div>
      <div class="cc-top-nav-right">
        <span class="dropdown drop-hover">
          <a class="dropdown-toggle nav_color" data-toggle="dropdown"><apex:image url="{!URLFOR($Resource.Dental_Practice_Resources,'Images/gear_blue.png')}" width="25" height="25" styleClass="c-pointer"
            onmouseover="this.src='{!URLFOR($Resource.Dental_Practice_Resources,'Images/gear_black.png')}';"
            onmouseout="this.src='{!URLFOR($Resource.Dental_Practice_Resources,'Images/gear_blue.png')}';"
            onclick="this.src='{!URLFOR($Resource.Dental_Practice_Resources,'Images/gear_blue.png')}';"
             /></a>
          <ul class="dropdown-menu gear-menu dropdown-menu-right">
            <apex:repeat var="gitem" value="{!gear_menu}" >
                <li class="dropdown-lineitem" style="display:inline-block;">
                  <a href="{!gitem.Page_URL__c}" style="color:#189BEB;" target="{!gitem.hyperlink_target__c}"
                      onmouseover="this.firstChild.src='{!URLFOR($Resource.Dental_Practice_Resources,gitem.Image_Name_Hover__c)}';this.style.color='black';"
                      onmouseout="this.firstChild.src='{!URLFOR($Resource.Dental_Practice_Resources,gitem.Image_Name__c)}';this.style.color='#189BEB';">
                    <apex:image url="{!URLFOR($Resource.Dental_Practice_Resources,gitem.Image_Name__c)}" width="{!if(gitem.name=='Salesforce','30','20')}" height="20" style="display:inline;{!if(gitem.name=='Salesforce','position:relative;left:-7px;margin-right:-6px;','margin-right:5px;')}" />&nbsp;&nbsp;{!gitem.name}
                  </a>
                </li>
            </apex:repeat>
          </ul>
          </span>
      </div>
    </apex:outputpanel>
    <div class="cc-sub-nav-container" >
      <apex:repeat var="mitem" value="{!clinical_header_items}">
        <apex:outputpanel layout="block" styleclass="cc-sub-nav-cell {!if(mitem.name=='Clinical','cc-color-topNav-selected','')}" onclick="nav_to('{!mitem.id}')">
          <button class="cc-sub-nav-top-button cc-color-{!mitem.css_class__c} cc-hover-tooltips-dark-anchor-nav">
            <i class="{!if(mitem.image_name__c=='home','hrxicon','ccf')}-{!mitem.image_name__c} cc-color-font-white"></i>
            <div>{!mitem.name}</div>
          </button>
          <div class="cc-button-text">
            {!mitem.name}
          </div>
          <apex:outputpanel rendered="{!if(mitem.name=='Notifications',true,false)}" layout="block"  styleclass="cc-calBadge-badge" style="right:60%;">{!dosespot_notification_count}</apex:outputpanel>
          <div class="cc-button_bg cc-color-{!mitem.css_class__c}">
            <!-- <apex:outputpanel rendered="{!if(mitem.name=='Notifications',true,false)}" layout="block"  styleclass="cc-calBadge-badge">{!dosespot_notification_count}</apex:outputpanel>-->
          </div>
        </apex:outputpanel>
      </apex:repeat>
    </div>

   <apex:outputPanel styleclass="cc-clinical-calendar-nav" layout="block" id="calendar_nav">   
     <!--repeat through all pots and create anchor links here-->
     <apex:repeat var="pot" value="{!patient_pot_list}" rendered="{!patient_record_selected}">
       <apex:outputpanel layout="block" styleclass="cc-section-link-black cc-font-light-space">
         <a class="nav_anchor">{!pot.plan.name}</a>
       </apex:outputpanel>
     </apex:repeat>
     <!--end repeat-->

     <div class="cc-nav-right">
     <apex:outputpanel layout="block" styleclass="cc_cc_cal_options-container">
       <apex:outputpanel rendered="{!has_patient_completed_health_history}" layout="block" styleclass="cc-toolbar-button-icon-container">         
         <div class="cc-toolbar-button-icon" style="padding-top:4px;">
           <apex:outputpanel layout="block"  styleclass="cc-calBadge-badge" style="right:8%;top:-1%;background-color:{!health_history_color};color:black;font-weight:400">&#10004;</apex:outputpanel>
           <a class="icon_hyperlink" href="check_in?AccountID={!patient.id}&HealthHistoryID={!phhistory.id}&version=review" target="hhistory_{!patient.id}">
             <i class=" hrxicon-folder-open " style="font-size:16pt"></i>
           </a>
         </div>           
         <div class="cc-toolbar-button-icon-tooltip">             
           <div>View Health History</div>
         </div>
       </apex:outputpanel>
       <div class="cc-toolbar-button-icon-container">
         <div class="cc-toolbar-button-icon" style="padding-top:4px;">
           <a class="icon_hyperlink" href="check_in?AccountID={!patient.id}&HealthHistoryID={!phhistory.id}" target="hhistory_{!patient.id}">
             <i class=" hrxicon-pencil " style="font-size:16pt"></i>
           </a>
         </div>
         <div class="cc-toolbar-button-icon-tooltip">
           <div><apex:outputtext value="{!if(has_patient_completed_health_history,'Edit ','Create ')}" />Health History</div>
         </div>
       </div> 
     
       <apex:outputpanel layout="block" styleclass="cc-toolbar-button-icon-container">
         <apex:outputpanel layout="block" styleclass="cc-toolbar-button-patient" onclick="opatient_search();">
           <i class=" ccf-patient"></i>
           <apex:outputpanel styleclass="patient_label" rendered="{!patient_record_selected}" >{!patient.name}</apex:outputpanel>
           <apex:outputpanel rendered="{!if(patient_record_selected,false,true)}" >No Patient Selected</apex:outputpanel>
         </apex:outputpanel>
         <apex:outputpanel layout="block" styleclass="cc-toolbar-button-icon-tooltip" style="left: 0%; width: 160px; display: none; opacity: 1;">
           <apex:outputpanel layout="block">Change patient</apex:outputpanel>
         </apex:outputpanel>
       </apex:outputpanel>
       <apex:outputpanel layout="block" styleclass="cc-hover-tooltips-light cc-cursor-hover" rendered="{!patient_record_selected}" onclick="onew_pot_form();">
         <a class="cc-section-header-add-button nav_anchor" id="cc-patient-add"><i class=" ccf-add-md    "></i></a>
         <apex:outputpanel styleclass="cc-tooltip cc-center" layout="block" style="top:0%">New POT</apex:outputpanel>
       </apex:outputpanel>
     </apex:outputpanel>
     </div>
     
   </apex:outputpanel> <!--end cc-clinical-calendar-nav-->
  </apex:outputpanel>
</apex:outputpanel>

<apex:outputpanel layout="block" styleclass="cc-content-wrapper" id="main_holder">
  <apex:outputpanel layout="block" styleclass="cc-content-container">
  <apex:actionStatus id="ajaxstatus">
    <apex:facet name="start">
      <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.75; z-index: 10110; background-color: #f2f2f2;">
        &nbsp;
      </div>
      <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 10111; margin: 20% 50%">
        <!--<apex:image url="{!URLFOR($Resource.Dental_Practice_Resources,'Images/5Wits.gif')}"/>-->
<!--       <img src="http://upload.wikimedia.org/wikipedia/commons/e/ed/Cursor_Windows_Vista.gif" />-->
        <img src="{!URLFOR($Resource.Dental_Practice_Resources,'Images/Circle-out.gif')}" />
        <!--<img src="{!URLFOR($Resource.Dental_Practice_Resources,'Images/5Wits.gif')}" />-->
      </div>
    </apex:facet>
  </apex:actionStatus>
  <apex:variable var="dfilter_display" value="true" />


  <apex:outputpanel layout="block" styleclass="cc-clinical-content-container" style="padding-top:1em;">
    <apex:messages style="color:red;" />
    <!--No Patient Selected?-->
    <apex:outputpanel layout="block" rendered="{!if(patient_record_selected,false,true)}" >
      Plans of Treatment can not be displayed until you have selected a patient.<br />  Please click on the change patient icon if you need to select one
    </apex:outputpanel>

    <apex:outputpanel layout="block" rendered="{!if(patient_record_selected,true,false)}" >
      <!--Patient Selected - No Plans of Treatment-->
    <apex:outputpanel layout="block" styleclass="cc-cc-notificationContainer" rendered="{!if(display_medical_warnings && notification_size>0,true,false)}" id="warning_holder">
      <div class="cc-cc-notificationContent-show" id="cc-cc-errorContent-id" style="height:100%;width:100%;">
        <apex:outputpanel layout="block"><apex:commandlink rerender="main_holder" styleclass="cc-cc-notificationContent-link-close" action="{!close_medical_warnings}" value="close" status="ajaxstatus"  /></apex:outputpanel>
        <apex:outputpanel layout="block" styleclass="cc-cc-notificationHeader" style="flex-flow: row wrap;flex-basis: 100%;justify-content: flex-start;">
          <!--start repeat through all patient notifications here-->
          <apex:repeat var="notification" value="{!patient_notification_list}" >
            <apex:outputpanel layout="block" style="flex-grow:1;flex-basis:33%;max-width:33%;font-weight:bold;padding-bottom:5px;color:{!notification.notification_color}"><i class="{!notification.image_class}"></i>&nbsp;{!notification.notification_text}</apex:outputpanel>
          </apex:repeat>
          <!--end repeat through all patient notifications here-->
<!--          <apex:outputpanel layout="block"><i class="ccf-pill cc-font-light-16"></i> Patient has an allergy to Penicillin</apex:outputpanel>
          <apex:outputpanel layout="block"><i class="ccf-error cc-font-light-16"></i> Patient has not filled out medical clearance</apex:outputpanel>-->
        </apex:outputpanel>
      </div>
    </apex:outputpanel>
     
      <!--Patient Selected - Plans of treatment-->
      <apex:repeat var="pot" value="{!patient_pot_list}">
        <apex:outputpanel layout="block" styleclass="cc-section-container">
          <apex:outputpanel layout="block" styleclass="cc-section-header cc-font-light-16" id="cc-clinical-POT">
            <apex:outputpanel layout="block" styleclass="cc_cc-notes-section-header-left cc-clinical-treatmentPlan-name">
              {!pot.plan.name} <apex:outputpanel rendered="{!pot.plan.plan_of_treatment__r.Display_Handout_Name__c}">&nbsp;- {!pot.handout_name}</apex:outputpanel>
            </apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc_cc-notes-section-header-right">
              <apex:outputpanel rendered="{!pot.allow_name_change}" layout="block" styleclass="cc-section-header-right-button-container cc-hover-tooltips-light cc-clinical-tp-save cc-section-header-add" style="font-size:16pt;" onclick="change_pot_name('{!pot.plan.id}');">                
                <i class="hrxicon-pencil3" ></i>                
                <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center">Change Plan Name</apex:outputpanel>
              </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-section-header-right-button-container cc-section-button-white-disabled cc-hover-tooltips-light cc-clinical-tp-save cc-section-header-add" style="font-size:16pt;">
                <a href="proposed_treatment_plan_printout?ptid={!patient.id}&ctrid={!current_center.id}&potid={!pot.plan.id}" style="color:white;" target="__blank">
                  <i class="ccf-status" ></i>
                </a>
                <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center">Proposed Treatment Plan</apex:outputpanel>
              </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-section-header-right-button-container cc-section-button-white-disabled cc-hover-tooltips-light cc-clinical-tp-save cc-section-header-add" style="font-size:16pt;">
                <a href="account_statement_printout?ptid={!patient.id}&ctrid={!current_center.id}&potid={!pot.plan.id}" style="color:white;" target="__blank">
                  <i class="ccf-money" ></i>
                </a>
                <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center">Account Statement</apex:outputpanel>
              </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-section-header-right-button-container cc-section-button-white-disabled cc-hover-tooltips-light cc-clinical-tp-save" rendered="{!pot.allow_delete}">
                <apex:commandLink action="{!confirm_pot_removal}" style="color:white;text-decoration:none;">
                  <apex:param name="activation_id" value="{!pot.plan.id}" assignTo="{!activation_id}" />
                  <i class="ccf-cancel-thin "></i>
                </apex:commandlink>
                <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center">Remove Treatment Plan</apex:outputpanel>
              </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-section-header-status-container">
                <apex:outputpanel layout="block" styleclass="cc-section-header-status-button">
                  {!pot.pot_status}
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel> <!--end section header--->

          <apex:outputpanel layout="block" styleclass="cc-clinical-schedule-POT-container">
            <apex:outputpanel layout="block" styleclass="cc-patient-form-category-header">
              <apex:outputpanel layout="block">Plan Of Treatment </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-subSection-buttons-container">
                <apex:outputpanel layout="block" styleclass="cc-subSection-button cc-hover-tooltips-light " rendered="{!pot.allow_change && is_clinical_profile}" onclick="change_pot('{!pot.plan.id}');" >
                  <apex:outputpanel layout="block" styleclass="cc-subSection-button-icon">
                    <i class="ccf-syringe" ></i>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center cc-subSection-tooltip-position">Select Final Plan</apex:outputpanel>
                </apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-subSection-button cc-hover-tooltips-light " onclick="new_apt_form('{!pot.plan.id}');">
                  <apex:outputpanel layout="block" styleclass="cc-subSection-button-icon cc-subSection-button-addAppointment">
                    <i class="ccf-add-light cc-font-light"></i>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center cc-subSection-tooltip-position" >
                    Add appointment
                  </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>

            <div class="cc-patient-appointments-list apt_identifier" id="pot_{!pot.plan.id}">
              <!-- start appointment -->
              <apex:repeat var="apt" value="{!pot.apts}">
              <div class="cc-patient-appointment-row-container" id="apt_{!apt.apt.id}" style="height:100%;padding-bottom:5px;">
                <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row cc-clinical-POT-done">
                  <div class="cc-patient-schedule-appointment-arrow " state="{!if(apt.apt.id==new_proc_form_id,'open','collapsed')}" onclick="check_proc_id();fancy_display_procedures('apt_{!apt.apt.id}')"><i class="ccf-right-arrow cc-color-font-gray cc-icon-collapsable {!if(apt.apt.id==new_proc_form_id,'cc-rotate-90deg','')} {!if(apt.apt.id==pot.current_apt_id,'cc-color-font-red','')}"></i></div>
                  <div class="cc-patient-schedule-row-status cc-clinical-pot-num cc-bgColor-{!apt.circle_color} cc-color-linkBG {!if(apt.allow_delete,'hover-over-red','')}" orderval="{!apt.apt.Sort_Order__c}">
                    <apex:commandLink rendered="{!apt.allow_delete}" action="{!confirm_apt_removal}" style="color:white;text-decoration:none;" styleclass="no_uline" onmouseover="this.innerHTML='X';" onmouseout="this.innerHTML='{!apt.apt.Sort_Order__c}'">
                      <apex:param name="activation_id" value="{!apt.apt.id}" assignTo="{!activation_id}" />
                      {!apt.apt.Sort_Order__c}
                    </apex:commandLink>
                    <apex:outputpanel rendered="{!if(apt.allow_delete,false,true)}">{!apt.apt.Sort_Order__c}</apex:outputpanel>
                  </div>
                  <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-appointmentLabel-container">
                    <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-appointmentLabel" style="height:100%;">{!apt.apt.name}
                    <!--New Procedures Location-->
                    <!-- start procedures -->
                    <div class="cc-appointment-procedures-container cc-clinical-POT-done" style="display: {!if(apt.apt.id==new_proc_form_id,'block','none')};position:relative;top:0;" id="proc_{!apt.apt.id}">
                      <apex:outputpanel layout="block" styleclass="cc-clinical-procedures-header-container">
                        <apex:outputpanel layout="block" styleclass="cc-clinical-procedures-header-label">Procedures</apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-subSection-button cc-hover-tooltips-light " onclick="new_proc_form('{!apt.apt.id}');">
                          <apex:outputpanel layout="block" styleclass="cc-subSection-button-icon cc-subSection-button-addAppointment">
                            <i class="ccf-add-light cc-font-light"></i>
                          </apex:outputpanel>
                          <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center cc-subSection-tooltip-position" style="left:15px">Add procedure</apex:outputpanel>
                        </apex:outputpanel>
                      </apex:outputpanel>
                      <apex:repeat var="proc" value="{!apt.procedures}">
                        <div class="cc-appointment-procedures-row" id="p_{!proc.id}">
                          <apex:outputpanel layout="block" styleclass="cc-appointment-procedures-number cc-clinical-procedure-num" style="color: rgb(102, 102, 102); border: 1px solid rgb(204, 204, 204); background-color: rgb(245, 245, 245);" onmouseover="this.style.backgroundColor = 'red';" onmouseout="this.style.backgroundColor = 'rgb(245, 245, 245)';">
                            <apex:commandLink rerender="main_holder" oncomplete="init_apt_sort();" action="{!confirm_proc_removal}" style="color:black;text-decoration:none;" styleclass="no_uline" onmouseover="this.innerHTML='X';this.style.color='white';" onmouseout="this.innerHTML='{!proc.Sort_Order__c}';this.style.color='black';">
                              <apex:param name="activation_id" value="{!proc.id}" assignTo="{!activation_id}" />
                                {!proc.Sort_Order__c}
                            </apex:commandLink>
                          </apex:outputpanel>
                          <apex:outputpanel layout="block" styleclass="cc-appointment-procedures-label" style="{!if(proc.clinical_procedure__r.Doctor_Required__c,'color:#0a66e0;','')}">{!proc.name}</apex:outputpanel>
                          <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothSelection cc-hover-tooltips-light " rendered="{!proc.Allow_Tooth_Selection__c}">
                            <i class="ccf-tooth cc-cursor-hover cc-color-font-hover-blue " onclick="otooth_modal('{!proc.id}');"></i>
                            <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothSelected-numbers">
                              {!proc.Target_Teeth__c}
                            </apex:outputpanel>
                          </apex:outputpanel>
                        </div>
                      </apex:repeat>
                      <!--New procedure form--->
                      <apex:outputpanel layout="block" rendered="{!if(display_new_proc_form && apt.apt.id==new_proc_form_id,true,false)}">
                        <div class="cc-appointment-procedures-row" >
                        <!--until the formatting is fixed-->
                          <!--<apex:outputpanel layout="block" styleclass="cc-appointment-procedures-number cc-clinical-procedure-num" style="color: rgb(102, 102, 102); border: 1px solid rgb(204, 204, 204); background-color: rgb(245, 245, 245);">
                            {!pot_next_proc_sort_value}
                          </apex:outputpanel>-->
                          <apex:outputpanel layout="block" styleclass="cc-appointment-procedures-label" style="height:26px;">
                            <apex:inputText id="pname_holder" value="{!new_proc_name}" styleclass="input_standard" onfocus="if(this.value=='Enter procedure') {this.value='';}" onkeyup="proc_qsearch_key();" onkeydown="if(event.keyCode==13){this.blur();}" />
                          </apex:outputpanel>
                          <apex:outputpanel layout="block" styleclass="cc-appointment-procedures-label" style="height:26px;padding-right:10px;">
                            <apex:inputText value="{!new_proc_ada}" styleclass="input_standard" onfocus="if(this.value=='Enter ADA') {this.value='';}" onkeyup="proc_qsearch_key();" onkeydown="if(event.keyCode==13){this.blur();}" />
                          </apex:outputpanel>                          
                          <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothSelection">
                            <apex:selectList value="{!procedure_filter}" onchange="proc_refresh();" size="1">
                              <apex:selectOptions value="{!procedure_category_list}" />
                            </apex:selectList><span class="spacer">&nbsp;</span>
                            <apex:commandLink action="{!add_procedure_step}" reRender="main_holder" value="Save" styleclass="lblue" status="ajaxstatus" oncomplete="init_apt_sort();"/><span class="spacer">&nbsp;</span>
                            <apex:commandLink action="{!hide_procedure_form}" reRender="main_holder" value="Cancel" styleclass="lblue" status="ajaxstatus" oncomplete="init_apt_sort();"/><span class="spacer">&nbsp;</span>
                          </apex:outputpanel>
                          <!-- <apex:commandLink action="{!reset_procedure_form}" reRender="main_holder" value="Reset" styleclass="lblue" oncomplete="init_sort();" /> --><br /><br />
                        </div>
                        <apex:outputpanel id="procedure_match_holder" styleclass="procedure_matches">
                          <apex:repeat var="sresult" value="{!search_procedures}" >
                            <span onclick="proc_select('{!sresult.id}');" class="overflow_option"><apex:outputText value="{!sresult.name}" /></span>
                          </apex:repeat>
                        </apex:outputpanel>
                      </apex:outputpanel>
                      <!--end new procedure form-->
                    </div>
                    <!-- eND procedures -->
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-POT-wait-container cc-hover-tooltips-light">
                    <apex:outputpanel layout="block" styleclass="cc-POT-wait-icon"><i class="ccf-wait"></i></apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-POT-wait-amount">
                      <apex:outputpanel onclick="edit_current_apt('{!apt.apt.id}');" rendered="{!if(current_edit==apt.apt.id,false,true)}"><apex:outputtext value="{!apt.apt.Days_Out__c}" /></apex:outputpanel>
                      <apex:inputfield value="{!apt.apt.Days_Out__c}" style="width:50px;" type="number" onchange="days_out_adjustment();" onkeyup="days_out_adjustment();" rendered="{!if(current_edit==apt.apt.id,true,false)}" />
                    </apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center" style="bottom:-160%; left:35%;">
                      Time to wait for future appointments.  <apex:outputpanel rendered="{!if(current_edit==apt.apt.id,false,true)}">Click to edit</apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>

                  <apex:outputpanel layout="block" styleclass="cc-POT-wait-container cc-hover-tooltips-light">
                    <apex:outputpanel layout="block" styleclass="cc-POT-wait-amount">
                      {!apt.total_apt_minutes} m
                    </apex:outputpanel>
                  </apex:outputpanel>
                  
                  <apex:outputpanel layout="block" styleclass="cc-POT-wait-container cc-hover-tooltips-light">
                    <i class="ccf-clinical"></i>
                    <apex:outputpanel layout="block" styleclass="cc-POT-wait-amount">
                      {!apt.total_dr_minutes}
                    </apex:outputpanel>
                  </apex:outputpanel>

                  <apex:outputpanel layout="block" styleclass="cc-calBadge-container" onclick="open_history('{!apt.apt.id}');">
                    <apex:outputpanel layout="block" styleclass="cc-calBadge-icon">
                      <i class="ccf-clock"></i>
                    </apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-calBadge-badge">{!apt.history_count}</apex:outputpanel>
                  </apex:outputpanel>
                  
                  <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-date {!if(apt.next_scheduled_date=='','cc-clinical-appointment-date-completed cc-hover-tooltips-light ',' cc-patient-scheduled-tooltip ')}">
                    <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-date-value" style="" rendered="{!if(apt.next_scheduled_date=='',false,true)}" onmouseover="show_update_text(this);" onmouseout="this.innerHTML='{!apt.next_scheduled_date}';" onclick="open_cmodal('{!apt.block_id}');" >
                      {!apt.next_scheduled_date}
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!--apt completed date-->
                  <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-date cc-clinical-appointment-date-scheduled cc-hover-tooltips-light ">
                    <!-- incomplete check -->
                    <apex:outputpanel rendered="{!if(apt.current_block_status=='Incomplete' || apt.current_block_status=='No Show' ,true,false)}" style="color:red;">{!apt.current_block_status}</apex:outputpanel>
                    <apex:outputpanel rendered="{!if(apt.current_block_status=='Incomplete' || apt.current_block_status=='No Show',false,true)}">{!apt.apt_completed_date}</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center" style="bottom:-160%; left:35%;" rendered="{!if(apt.apt_completed_date=='',false,true)}" >{!apt.current_block_status}</apex:outputpanel>
                  </apex:outputpanel>

                  <apex:outputpanel layout="block" styleclass="cc-clinical-appointment-date-comments">
                    <apex:inputfield value="{!apt.apt.Doctor_Notes__c}" onkeyup="cc_adjustTextAreaHeight1($j(this));pot_adjustment();" onchange="pot_commit();" style="width:100%;" styleclass="cc-clinical-POT-note" />
                  </apex:outputpanel>
                </apex:outputpanel>
                <!--Old Procedures location-->
              </div>
              </apex:repeat>
              <!-- end appointment -->
              <!--new apt holder---->
              <apex:outputpanel rendered="{!if(pot.plan.id==new_apt_form_id,true,false)}" style="padding-left:40px;">
                <apex:outputpanel layout="block" styleclass="cc-patient-appointment-row-container">
                <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row cc-clinical-POT-done">
                  <div class="cc-patient-schedule-appointment-arrow cc-invisible " state="collapsed"><i class="ccf-right-arrow cc-color-font-gray cc-icon-collapsable cc-rotate-90deg"></i></div>
                  <div class="cc-patient-schedule-row-status cc-color-linkBg cc-clinical-pot-num" style="background-color: rgb(10, 102, 224);">{!pot_next_sort_value}</div>
                  <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-appointmentLabel">
                    <apex:inputText value="{!new_apt_name}" styleclass="input_standard" onfocus="if(this.value=='Enter Appointment') {this.value='';}" onkeyup="apt_qsearch_key();" onkeydown="if(event.keyCode==13){this.blur();}" /><span class="spacer">&nbsp;</span>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothNums">
                    <apex:selectList value="{!apt_filter}" onchange="body_refresh();" size="1">
                      <apex:selectOptions value="{!apt_category_list}" />
                    </apex:selectList><span class="spacer">&nbsp;</span>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-date cc-clinical-appointment-date-completed cc-hover-tooltips-light">
                    <apex:commandLink action="{!add_appointment_step}" reRender="main_holder" value="Save" styleclass="lblue" status="ajaxstatus"/>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-date cc-clinical-appointment-date-scheduled cc-hover-tooltips-light ">
                    <apex:commandLink action="{!hide_apt_form}" reRender="main_holder" value="Cancel" styleclass="lblue" status="ajaxstatus" />
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-clinical-appointment-date-comments">
                    <apex:commandLink action="{!reset_apt_form}" reRender="main_holder" value="Reset" styleclass="lblue" status="ajaxstatus" />
                  </apex:outputpanel>
                </apex:outputpanel>
                </apex:outputpanel>
                <apex:outputpanel styleclass="procedure_matches">
                  <apex:repeat var="sresult" value="{!search_appointments}" >
                    <span onclick="apt_select('{!sresult.id}');" class="overflow_option"><apex:outputText value="{!sresult.name}" /></span>
                  </apex:repeat>
                </apex:outputpanel>
              </apex:outputpanel>
              <!--end new apt holder-->
            </div>
          </apex:outputpanel> <!---POT Container---->

        </apex:outputpanel> <!--end cc-section-container--->

        <!--start medical clearance ---->
        <apex:outputpanel layout="block" styleclass="cc-clinical-schedule-POT-container">
          <apex:outputpanel layout="block" styleclass="cc-patient-form-category-header cc-forms-medicalClearances">
            <apex:outputpanel >Medical Clearances</apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-subSection-buttons-container">
              <apex:outputpanel layout="block" styleclass="cc-subSection-button cc-hover-tooltips-light ">
                <div class="cc-subSection-button-icon cc-subSection-button-addMedicalClearance" templateid="cc-perio-medicalClearance-container" onclick="new_clearance_form('{!pot.plan.id}');">
                  <i class="ccf-add-light cc-font-light"></i>
                </div>
                <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center cc-subSection-tooltip-position" style="width:240px">
                  Add Medical Clearance Form
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
          <!--repeat through existing medical clearances-->
          <apex:outputpanel layout="block" styleclass="cc-patient-appointments-list cc-forms-collapsed-container">
            <apex:repeat var="clearance" value="{!pot.medical_clearance_list}" >
              <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-collapsed" rendered="{!if(new_med_clearance.id==clearance.id && display_clearance_form,false,true)}" >
                <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label-container" style="">
                  <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-button-container" onclick="edit_clearance_form('{!clearance.id}');" style="z-index: 900;">
                    <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-button {!if(clearance.Request_Status__c=='Declined',' cc-perio-form-row-template-button-red ',if(clearance.Request_Status__c=='Approved',' cc-perio-form-row-template-button-green ',' cc-perio-form-row-template-button-blue ') )}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label-icon">
                        <i class="ccf-write"></i>
                      </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label" >{!clearance.Health_Condition__c} - {!clearance.Request_Status__c}</apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
          <!--end repeat through existing medical clearances-->

          <!--start new medical clearance form/edit existing medical clearance form--->
          <apex:outputpanel layout="block" rendered="{!if(display_clearance_form && current_mc_pot.id==pot.plan.id,true,false)}" styleclass="cc-perio-form-row-template">
            <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-form" id="mclearance_other_condition_holder">
            <apex:messages style="color:red;" />
              <apex:outputpanel layout="block" styleclass="cc-form-container" style="">
                <apex:outputpanel layout="block" styleclass="cc-form-header-container">
                  <apex:outputpanel layout="block" styleclass="cc-form-header-action-container">
                    <apex:outputpanel rendered="{!if(new_med_clearance.id=='',false,true)}">
                      <span class="icon_tooltip">
                        <i class="ccf-x-circle" action="close" onclick="cclearance_form();"></i>
                        <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			              Close Clearance
			            </apex:outputpanel>
			          </span>
                    </apex:outputpanel>
                    <span class="icon_tooltip">
			          <i class="ccf-save" action="save" onclick="save_med_clearance();"></i>
			          <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			            Save Clearance
			          </apex:outputpanel>
			        </span>
                    <span class="icon_tooltip">
			          <i class="ccf-trash" action="trash" onclick="confirm_cancel_clearance();"></i>
			          <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			            Delete Clearance
			          </apex:outputpanel>
			        </span>
                    <!--<i class="ccf-print cc-form-clinical-printButton" action="print"></i>-->
                  </apex:outputpanel>
                </apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                    <apex:messages style="color:red;" />
                  <apex:outputpanel layout="block" styleclass="cc-form-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Condition:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_med_clearance.Health_Condition__c}" onchange="update_health_other();"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
<!--                      <apex:outputpanel layout="block" style="justify-content:flex-end;position: absolute;right: 15px;" >
                        <div id="cc-patient-patient-search-close-button" onclick="cclearance_form();">
                          <i class="ccf-cancel-thin cc-color-font-black cc-cursor-hover"></i>
                        </div>
                      </apex:outputpanel>-->
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-form-row" rendered="{!if(new_med_clearance.Health_Condition__c=='Other',true,false)}">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Other Condition:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_med_clearance.Health_Condition_Other__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>

                  <apex:outputpanel layout="block" styleclass="cc-form-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Doctor Name:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_med_clearance.Doctor_Name__c}" styleclass="cc-patientProfile-input"  onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>


                    </apex:outputpanel>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-form-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Doctor Specialty:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_med_clearance.Doctor_Specialty__c}" styleclass="cc-patientProfile-input" onchange="changes_made();"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-form-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Doctor Phone Number:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_med_clearance.Doctor_Phone__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-form-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Doctor Fax Number:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputField value="{!new_med_clearance.Doctor_Fax__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-form-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Date Clearance Requested:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputField value="{!new_med_clearance.Date_Clearance_Requested__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_med_clearance.Requested_Via__c}" onchange="changes_made();"/>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-form-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Status:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_med_clearance.Request_Status__c}" onchange="changes_made();"/>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>

                  <apex:outputpanel layout="block" styleclass="cc-form-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row-top">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Note:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-form-textarea-container">
                        <apex:inputfield value="{!new_med_clearance.Request_Note__c}" styleclass="cc-form-textarea" onchange="changes_made();"/>
                      </apex:outputpanel>

                    </apex:outputpanel>
                  </apex:outputpanel>

                  <!-- start form section container -->
		            <apex:outputpanel layout="block" styleclass="cc-form-content-container">
		              <!-- start header-->
		              <apex:outputpanel layout="block" styleclass="cc-form-row-header cc-section-header cc-font-light-16 ">Attachments
		                <apex:outputpanel layout="block" styleclass="cc_cc-notes-section-header-right" rendered="{!if(new_med_clearance.id==null,false,true)}">
		                  <div class="cc-section-header-add cc-hover-tooltips-dark" id="cc-patient-notes-add" onclick="display_mc_attachment_form('{!new_med_clearance.id}');">
		                    <i class="ccf-add-md"></i>
		                    <apex:outputpanel layout="block" styleclass="cc-center cc-tooltip">Add File</apex:outputpanel>
		                  </div>
		                </apex:outputpanel>
		              </apex:outputpanel>
		              <!-- end header -->

		              <!-- start columnContainer -->
		              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
		                <!-- start left container -->
		                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left" style="width:100%;">
		                  <!-- start row -->
		                  <apex:outputpanel layout="block" rendered="{!display_mc_attachment_form}">
		                    <apex:outputpanel layout="block" rendered="{!if(new_mc_attachment.parentid==new_med_clearance.id,true,false)}" >
		                      <div id="mc_file_droparea" class="file_drop_outer">
			                    <div id="mc_file_droparea_out" class="file_drop_inner">
			                      Drop a file here
			                    </div>
			                  </div>
		                    </apex:outputpanel>
		                  </apex:outputpanel>
		                  <!-- end row -->

		                  <!-- start row -->
		                  <apex:outputpanel layout="block" rendered="{!if(new_med_clearance.id==null,true,false)}">
		                    <span style="font-style:italic;padding-left:10px;">Attachments are only available after initial save</span>
		                  </apex:outputpanel>
		                  <!-- end row -->

		                  <apex:repeat var="file" value="{!new_med_clearance.attachments}">
		                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(file.id!=current_edit_id,true,false)}">
		                      <div class="cc-perio-prosth-label cc-form-input-label" onclick="edit_attachment('{!file.id}');">{!file.name}</div>
					          <div class=" cc-form-input-label" onclick="edit_attachment('{!file.id}');">{!file.description}</div><span class="spacer">&nbsp;</span>
					          <apex:outputLink target="__blank" value="{!URLFOR($Action.Attachment.Download,file.id)}">Download</apex:outputLink>
		                    </apex:outputpanel>
		                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(file.id==current_edit_id,true,false)}">
					          <div class="cc-perio-prosth-label cc-form-input-label">
					            <apex:inputfield value="{!file.name}" /></div>
					          <div class=" cc-form-input-label">
					            <apex:inputfield value="{!file.description}" style="min-width:250px;"/>
					          </div><span class="spacer">&nbsp;</span>
					          <apex:outputLink target="__blank" value="{!URLFOR($Action.Attachment.Download,file.id)}">Download</apex:outputLink><span class="spacer">&nbsp;</span>
					          <apex:commandLink action="{!save_mc_attachment_form}"  value="Save" styleclass="lblue" status="ajaxstatus" rerender="main_holder" /><span class="spacer">&nbsp;</span>
					          <apex:commandLink action="{!reset_mc_attachment_form}"  value="Reset" styleclass="lblue" status="ajaxstatus" rerender="main_holder" /><span class="spacer">&nbsp;</span>
					          <apex:commandLink action="{!hide_attachment_form}"  value="Cancel" styleclass="lblue" status="ajaxstatus" rerender="main_holder" /><span class="spacer">&nbsp;</span>
					          <apex:commandLink action="{!confirm_delete_mc_file}"  value="Delete" styleclass="lblue" style="color:#b13968;" status="ajaxstatus" rerender="main_holder">
					            <apex:param name="confirmation_id" value="{!file.id}"  assignTo="{!confirmation_id}"/>
					          </apex:commandLink>
					        </apex:outputpanel>
		                  </apex:repeat>

		                </apex:outputpanel>
		                <!-- end left container -->
		              </apex:outputpanel>
		              <!-- end columnContainer -->


		            </apex:outputpanel>
		            <!-- end form section container -->
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
          <!--end new medical clearance form/edit existing medical clearance form-->
        </apex:outputpanel>
        <!--end medical clearance section----->

        <!--start lab rx section---->
        <apex:outputpanel layout="block" styleclass="cc-clinical-schedule-POT-container">
          <apex:outputpanel layout="block" styleclass="cc-patient-form-category-header cc-forms-labRx">
            <apex:outputpanel >Lab Rx</apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-subSection-buttons-container">
              <apex:outputpanel layout="block" styleclass="cc-subSection-button cc-hover-tooltips-light ">
                <div class="cc-subSection-button-icon cc-subSection-button-addLabRx" templateid="cc-perio-labRx-container" onclick="new_lab_rx_form('{!pot.plan.id}');">
                  <i class="ccf-add-light cc-font-light"></i>
                </div>
                <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center cc-subSection-tooltip-position" style="width:240px">
                  Add Lab Rx
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
          <!--repeat through existing lab rx-->
          <apex:outputpanel layout="block" styleclass="cc-patient-appointments-list cc-forms-collapsed-container">
            <apex:repeat var="lab_rx" value="{!pot.lab_rx_list}" >
              <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-collapsed" rendered="{!if(new_lab_rx.id==lab_rx.id && display_lab_rx_form,false,true)}" >
                <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label-container" style="">
                  <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-button-container" onclick="edit_lab_rx_form('{!lab_rx.id}');" style="z-index: 900;">
                    <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-button cc-perio-form-row-template-button-default ">
                      <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label-icon">
                        <i class="ccf-write"></i>
                      </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label" >{!lab_rx.Display_Name__c}</apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
          <!--end repeat through existing lab rx-->


        </apex:outputpanel>
        <!-- end lab rx section -->
        <!-- start new lab rx form/edit existing lab rx form -->
         <apex:outputpanel layout="block" rendered="{!if(display_lab_rx_form && current_lrx_pot.id==pot.plan.id &&new_lab_rx.Form_type__c=='',true,false)}" styleclass="cc-perio-form-row-template">
          <div class="cc-form-container" formtype="labRx" clinicalform="" state="closed" style="border: 2px solid rgb(153, 153, 153); display: flex;" id="lab_rx_holder">

            <apex:outputpanel layout="block" styleclass="cc-form-header-container">
              <apex:outputpanel layout="block" styleclass="cc-form-header">Lab Rx</apex:outputpanel>
              <apex:messages style="color:red;" />
              <apex:outputpanel layout="block" styleclass="cc-form-header-action-container">
                <apex:outputpanel rendered="{!if(new_lab_rx.id=='',false,true)}">
                  <span class="icon_tooltip">
			        <i class="ccf-x-circle" action="close" onclick="clab_form();"></i>
			        <apex:outputpanel styleclass="icon_tiptext" style="z-index: 5100;','')} ">
			          Close Lab Rx
			        </apex:outputpanel>
			      </span>
                </apex:outputpanel>
                <span class="icon_tooltip">
			      <i class="ccf-save" action="save" onclick="save_labrx();"></i>
			      <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			        Save Lab Rx
			      </apex:outputpanel>
			    </span>
                <span class="icon_tooltip">
			      <i class="ccf-trash" action="trash" onclick="confirm_cancel_lab_rx();"></i>
			      <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			        Delete Lab Rx
			      </apex:outputpanel>
			    </span>                
              </apex:outputpanel>
            </apex:outputpanel>
            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container" >
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Patient Name:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient.name}" styleclass="cc-patientProfile-input no-print" />
                        <apex:outputtext value="{!lab_rx_patient_name}" styleclass="cc-patientProfile-input print-only" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Unique ID:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient.Warranty_ID__c}" styleclass="cc-patientProfile-input " />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>                  
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel rendered="{!display_windent_id}" layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Patient ID:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!windent_patient_id}" styleclass="cc-patientProfile-input " />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>                  
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end left column -->

                <!-- start right column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                  <!-- start input row -->
                  <!-- <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row date">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Date:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                          <apex:param value="{!new_lab_rx.createddate}" />
                        </apex:outputText> &nbsp; ({!new_lab_rx.createdby.name})    	
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel> -->
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row date">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label" style="flex-grow:1;justify-content:flex-end;">Date:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="flex-grow:1;justify-content:flex-end;">
                        <apex:outputText value="{0,date,M'/'dd'/'yyyy}">
                          <apex:param value="{!new_lab_rx.createddate}" />
                        </apex:outputText> &nbsp; ({!new_lab_rx.createdby.name})    
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row" >
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" style="justify-content: flex-end;" > 
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Form Type:</apex:outputpanel>                                        
                      <div id="lrx_type_1" class="cc-form-notation-button{!if(new_lab_rx.Form_Type__c=='Surgical','-selected','')}" onclick="toggle_lab_rx_type('{!if(new_lab_rx.Form_Type__c=='Surgical','','Surgical')}');reset_form_buttons(['lrx_type_2']);toggle_form_button(this);">Surgical</div>
                      <div id="lrx_type_2" class="cc-form-notation-button{!if(new_lab_rx.Form_Type__c=='General','-selected','')}" onclick="toggle_lab_rx_type('{!if(new_lab_rx.Form_Type__c=='General','','General')}');reset_form_buttons(['lrx_type_1']);toggle_form_button(this);">General</div>
                    </apex:outputpanel>
                  </apex:outputpanel>                  
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end right column -->

              </apex:outputpanel>
              <!-- end columnContainer -->
              <!-- start input row -->
              <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
			  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Plan of Treatment:</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                  <apex:outputtext value="{!pot.plan.name}" />
                  <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
              <!-- end input row -->
                                                                              
            </apex:outputpanel>
            <!-- end form section container -->            
            
          </div>
        </apex:outputpanel>
        
        <apex:outputpanel layout="block" rendered="{!if(display_lab_rx_form && current_lrx_pot.id==pot.plan.id &&new_lab_rx.Form_type__c=='General',true,false)}" styleclass="cc-perio-form-row-template">
          <div class="cc-form-container" formtype="labRx" clinicalform="" state="closed" style="border: 2px solid rgb(153, 153, 153); display: flex;" id="lab_rx_holder">

            <apex:outputpanel layout="block" styleclass="cc-form-header-container">
              <apex:outputpanel layout="block" styleclass="cc-form-header" style="width:100%;">Lab Rx
                <apex:outputpanel styleclass="print-only" rendered="{!if(new_lab_rx.Due_Date__c==null,false,true)}" style="display:flex;justify-content: flex-end; width:50%; color:red;">Due Date -&nbsp;
                  <apex:outputText value="{0,date,M'/'dd'/'yyyy}">
                    <apex:param value="{!new_lab_rx.Due_Date__c}" />
                  </apex:outputText>
                </apex:outputpanel>
              </apex:outputpanel>
              <apex:messages style="color:red;" />
              <apex:outputpanel layout="block" styleclass="cc-form-header-action-container">
                <apex:outputpanel rendered="{!if(new_lab_rx.id=='',false,true)}">
                  <span class="icon_tooltip">
			        <i class="ccf-x-circle" action="close" onclick="clab_form();"></i>
			        <apex:outputpanel styleclass="icon_tiptext" style="z-index: 5100;','')} ">
			          Close Lab Rx
			        </apex:outputpanel>
			      </span>
                </apex:outputpanel>
                <span class="icon_tooltip">
			      <i class="ccf-save" action="save" onclick="save_labrx();"></i>
			      <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			        Save Lab Rx
			      </apex:outputpanel>
			    </span>
                <span class="icon_tooltip">
			      <i class="ccf-trash" action="trash" onclick="confirm_cancel_lab_rx();"></i>
			      <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			        Delete Lab Rx
			      </apex:outputpanel>
			    </span>
                <apex:outputpanel rendered="{!if(new_lab_rx.id=='',false,true)}">
                  <a href="/apex/ccare_clinical_generic_lrx?ptid={!patient.id}&ctrid={!current_center.id}&lrxid={!new_lab_rx.id}" target="__blank">
                  <span class="icon_tooltip">                  
			        <i class="ccf-print cc-form-clinical-printButton" action="print"></i>
			        <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			          Print Lab Rx
			        </apex:outputpanel>
			      </span>
			      </a>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container" >
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Patient Name:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient.name}" styleclass="cc-patientProfile-input no-print" />
                        <apex:outputtext value="{!lab_rx_patient_name}" styleclass="cc-patientProfile-input print-only" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Unique ID:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient.Warranty_ID__c}" styleclass="cc-patientProfile-input " />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel rendered="{!display_windent_id}" layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Patient ID:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!windent_patient_id}" styleclass="cc-patientProfile-input " />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>                  
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end left column -->

                <!-- start right column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row date">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label" style="flex-grow:1;justify-content:flex-end;">Date:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="flex-grow:1;justify-content:flex-end;">
                        <apex:outputText value="{0,date,M'/'dd'/'yyyy}">
                          <apex:param value="{!new_lab_rx.createddate}" />
                        </apex:outputText> &nbsp; ({!new_lab_rx.createdby.name})    
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row no-print">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row date">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label" style="flex-grow:1;justify-content:flex-end;">Due Date:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="flex-grow:1;justify-content:flex-end;">
                        <apex:inputfield value="{!new_lab_rx.Due_Date__c}" onchange="changes_made();" type="date" />    
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->              
                  <apex:outputpanel layout="block" styleclass="cc-perio-row" >
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" style="justify-content: flex-end;" > 
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Form Type:</apex:outputpanel>                                        
                      <apex:outputtext value="{!new_lab_rx.Form_type__c}" />
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end right column -->

              </apex:outputpanel>
              <!-- end columnContainer -->
              <!-- start input row -->
              <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
			  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Plan of Treatment:</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                  <apex:outputtext value="{!pot.plan.name}" />
                  <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
              <!-- end input row -->
              <!-- start input row -->
              <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
			  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Provider:</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                  <apex:selectList value="{!new_lab_rx.Provider__c}" size="1" styleclass="cc-patientProfile-input" style="max-width:300px;">
			        <apex:selectOptions value="{!active_provider_list}" />
			      </apex:selectList>
                </apex:outputpanel>
              </apex:outputpanel>
              <!-- end input row -->           
              <!-- start input row -->
              <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
			  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Appointment:</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                  <apex:selectList value="{!new_lab_rx.Reference_Appointment__c}" size="1" styleclass="cc-patientProfile-input" style="max-width:300px;">
			        <apex:selectOptions value="{!reference_apt_list}" />
			      </apex:selectList>
                </apex:outputpanel>
              </apex:outputpanel>
              <!-- end input row -->                                        
              <!-- start input row -->
              <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Next Appt:</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                  <apex:selectList value="{!new_lab_rx.Next_POT_Apt__c}" size="1" styleClass="cc-patientProfile-input" style="max-width:300px;">
                    <apex:selectOptions value="{!pot.apt_options_list}" />
                  </apex:selectList>
                  <!-- 
                  <apex:outputtext value="{!new_lab_rx.next_pot_apt__r.name}" /> &nbsp;-&nbsp;
                  <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                    <apex:param value="{!new_lab_rx.clinical_apt_calendar__r.Apt_Date__c}" />
                  </apex:outputText>                   
                  <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                  <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                  -->
                </apex:outputpanel>
                <!-- <apex:commandlink rendered="{!if(new_lab_Rx.id=='',false,true)}" action="{!reset_lab_next_apt}" value="Reset" rerender="main_holder"  styleclass="lblue" status="ajaxstatus"  style="padding-left:20px;" /> -->
              </apex:outputpanel>
              <!-- end input row -->
              <!-- start row -->
              <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print" style="align-items:flex-start; ">
                <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Case Notes :</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                  <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer cc-form-input-markSelected">
                    <apex:inputfield value="{!new_lab_rx.Comments__c}" onchange="changes_made();" />
                  </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
              <!-- end row -->
              
            </apex:outputpanel>
            <!-- end form section container -->            

            
          </div>
        </apex:outputpanel>
        
        
        <apex:outputpanel layout="block" rendered="{!if(display_lab_rx_form && current_lrx_pot.id==pot.plan.id && new_lab_rx.Form_type__c=='Surgical',true,false)}" styleclass="cc-perio-form-row-template">
          <div class="cc-form-container" formtype="labRx" clinicalform="" state="closed" style="border: 2px solid rgb(153, 153, 153); display: flex;" id="lab_rx_holder">

            <apex:outputpanel layout="block" styleclass="cc-form-header-container">
              <apex:outputpanel layout="block" styleclass="cc-form-header" style="width:100%;">
                <span style="display:flex;width:33%;">Lab Rx</span>                             
                <apex:outputpanel styleclass="print-only" rendered="{!if(new_lab_rx.Due_Date__c==null,false,true)}" style="display:flex;justify-content: flex-end; width:33%; color:red;">Due Date -&nbsp; 
                  <apex:outputText value="{0,date,M'/'dd'/'yyyy}">
                    <apex:param value="{!new_lab_rx.Due_Date__c}" />
                  </apex:outputText>
                </apex:outputpanel>
                <span style="display:flex;width:34%;font-size:11pt;justify-content: flex-end;">
                  Date : &nbsp;
                  <apex:outputText value="{0,date,M'/'dd'/'yyyy}">
                    <apex:param value="{!new_lab_rx.createddate}" />
                  </apex:outputText> &nbsp; ({!new_lab_rx.createdby.name})    
                </span>
              </apex:outputpanel>
              <apex:messages style="color:red;" />
              <apex:outputpanel layout="block" styleclass="cc-form-header-action-container">
                <apex:outputpanel rendered="{!if(new_lab_rx.id=='',false,true)}">
                  <span class="icon_tooltip">
			        <i class="ccf-x-circle" action="close" onclick="clab_form();"></i>
			        <apex:outputpanel styleclass="icon_tiptext" style="z-index: 5100;','')} ">
			          Close Lab Rx
			        </apex:outputpanel>
			      </span>
                </apex:outputpanel>
                <span class="icon_tooltip">
			      <i class="ccf-save" action="save" onclick="save_labrx();"></i>
			      <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			        Save Lab Rx
			      </apex:outputpanel>
			    </span>
                <span class="icon_tooltip">
			      <i class="ccf-trash" action="trash" onclick="confirm_cancel_lab_rx();"></i>
			      <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			        Delete Lab Rx
			      </apex:outputpanel>
			    </span>
                <apex:outputpanel rendered="{!if(new_lab_rx.id=='',false,true)}">
                  <span class="icon_tooltip">
			        <i class="ccf-print cc-form-clinical-printButton" action="print" onclick="print_a_form('lab_rx_holder',true);"></i>
			        <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			          Print Lab Rx
			        </apex:outputpanel>
			      </span>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container" >
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Patient Name:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient.name}" styleclass="cc-patientProfile-input no-print" />
                        <apex:outputtext value="{!lab_rx_patient_name}" styleclass="cc-patientProfile-input print-only" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Unique ID:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient.Warranty_ID__c}" styleclass="cc-patientProfile-input " />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel rendered="{!display_windent_id}" layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Patient ID:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!windent_patient_id}" styleclass="cc-patientProfile-input " />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>                  
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
			        <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Plan of Treatment:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                      <apex:outputtext value="{!pot.plan.name}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Next Appt:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                      <apex:selectList value="{!new_lab_rx.Next_POT_Apt__c}" size="1" styleClass="cc-patientProfile-input" style="max-width:300px;">
                        <apex:selectOptions value="{!pot.apt_options_list}" />
                      </apex:selectList>                  
                    </apex:outputpanel>                
                  </apex:outputpanel>
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end left column -->

                <!-- start right column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right"> 
                 <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row no-print">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row date">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label" style="flex-grow:1;justify-content:flex-end;">Due Date:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="flex-grow:1;justify-content:flex-end;">
                        <apex:inputfield value="{!new_lab_rx.Due_Date__c}" onchange="changes_made();" type="date" />    
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->                                  
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print" style="align-items:flex-start; ">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Note:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer cc-form-input-markSelected">
                        <apex:inputfield value="{!new_lab_rx.Comments__c}" onchange="changes_made();" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row print-only" style="align-items:flex-start; ">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Note:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer cc-form-input-markSelected">
                        <apex:outputfield value="{!new_lab_rx.Comments__c}"  />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                </apex:outputpanel>
                <!-- end right column -->

              </apex:outputpanel>
              <!-- end columnContainer -->                            

              <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                      <div class="cc-form-notation-button{!if(new_lab_rx.DA04__c,'-selected','')}" onclick="increment_ajax();toggle_lab_rx_boolean(this.className,'DA04__c');toggle_form_button(this);" >DAO4</div>
                      <div class="cc-form-notation-button{!if(new_lab_rx.UA04__c,'-selected','')}" onclick="increment_ajax();toggle_lab_rx_boolean(this.className,'UA04__c');toggle_form_button(this);" >UAO4</div>
                      <div class="cc-form-notation-button{!if(new_lab_rx.LA04__c,'-selected','')}" onclick="increment_ajax();toggle_lab_rx_boolean(this.className,'LA04__c');toggle_form_button(this);" >LA04</div>
                      <div class="cc-form-notation-button{!if(new_lab_rx.singlemultiple__c,'-selected','')}" onclick="increment_ajax();toggle_lab_rx_boolean(this.className,'singlemultiple__c');toggle_form_button(this);" >S/M</div>
                      <div class="cc-form-notation-button{!if(new_lab_rx.mxCD__c,'-selected','')}" onclick="increment_ajax();toggle_lab_rx_boolean(this.className,'mxCD__c');toggle_form_button(this);" >mxCD</div>
                      <div class="cc-form-notation-button{!if(new_lab_rx.mdCD__c,'-selected','')}" onclick="increment_ajax();toggle_lab_rx_boolean(this.className,'mdCD__c');toggle_form_button(this);" >mdCD</div>
                      <div class="cc-form-notation-button{!if(new_lab_rx.mxRPD__c,'-selected','')}" onclick="increment_ajax();toggle_lab_rx_boolean(this.className,'mxRPD__c');toggle_form_button(this);" >mxRPD</div>
                      <div class="cc-form-notation-button{!if(new_lab_rx.mdRPD__c,'-selected','')}" onclick="increment_ajax();toggle_lab_rx_boolean(this.className,'mdRPD__c');toggle_form_button(this);" >mdRPD</div>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
            </apex:outputpanel>
            <!-- end form section container -->

            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container">
              <!-- start header-->
              <apex:outputpanel layout="block" styleclass="cc-form-row-header">Surgical Reduction</apex:outputpanel>
              <!-- end header -->
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Upper Left:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.BR_upper_left__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Upper Anterior:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.BR_Upper_anterior__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Upper Right:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.BR_upper_right__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->

                </apex:outputpanel>
                <!-- end left container -->

                <!-- start right container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Lower Left:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.BR_lower_left__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected"  onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Lower Anterior:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.BR_Lower_Anterior__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Lower Right:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.BR_lower_right__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                </apex:outputpanel>
                <!-- end right container -->
              </apex:outputpanel>
              <!-- end columnContainer -->
            </apex:outputpanel>
            <!-- end form section container -->
            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container">
              <!-- start header-->
              <apex:outputpanel layout="block" styleclass="cc-form-row-header " style="display:flex;">
                <span style="display:flex;width:50%;">Description</span>
                <span style="display:flex;width:50%;">Midline</span>
              </apex:outputpanel>
              <!-- end header -->
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label ">Tooth mould:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                      <apex:inputfield value="{!new_lab_rx.Tooth_Mould__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">          </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">     </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label ">Tooth Shade:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                      <apex:inputfield value="{!new_lab_rx.Tooth_Shade__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">          </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label ">Tooth Shade Other:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                      <apex:inputfield value="{!new_lab_rx.Tooth_Shade_Other__c}" styleclass="cc-patientProfile-input"  onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">          </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label ">Acryllic Shade:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                      <apex:inputfield value="{!new_lab_rx.Acryllic_Shade__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                </apex:outputpanel>
                <!-- end left container -->

                <!-- start right container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-form-notation-button{!if(new_lab_rx.Midline_maintain_existing__c,'-selected','')}" onclick="toggle_lab_rx_boolean(this.className,'Midline_maintain_existing__c');toggle_form_button(this);">Maintain existing</apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Move Right:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.Midline_move_right__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">   </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Move Left:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.Midline_move_left__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Set off opposing:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                      <apex:inputfield value="{!new_lab_rx.Midline_set_off_opposing__c}" styleclass="cc-patientProfile-input cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                </apex:outputpanel>
                <!-- end right container -->
              </apex:outputpanel>
              <!-- end columnContainer -->
            </apex:outputpanel>
            <!-- end form section container -->
            
            
            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container">
              <!-- start header-->
              <apex:outputpanel layout="block" styleclass="cc-form-row-header ">Overlap</apex:outputpanel>
              <!-- end header -->
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Vertical:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.Overlap_Vertical__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->

                  <!-- removed on 6-29-2016 by cm
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Freeway space:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.Overlap_Freeway_Space__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  -->
                </apex:outputpanel>
                <!-- end left container -->

                <!-- start right container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Horizontal:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.Overlap_Horizontal__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                </apex:outputpanel>
                <!-- end right container -->
              </apex:outputpanel>
              <!-- end columnContainer -->
            </apex:outputpanel>
            <!-- end form section container -->
            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container">
              <!-- start header-->
              <apex:outputpanel layout="block" styleclass="cc-form-row-header " style="display:flex;">              
                <span style="display:flex;width:50%;">VDO</span>
                <span style="display:flex;width:50%;">Occlusal Plane</span>
              </apex:outputpanel>
              <!-- end header -->
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-form-notation-button{!if(new_lab_rx.Vertical_Maintain_Existing__c,'-selected','')}" onclick="toggle_lab_rx_boolean(this.className,'Vertical_Maintain_Existing__c');toggle_form_button(this);">Maintain existing</apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Open:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.Vertical_Open__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Close:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                      <apex:inputfield value="{!new_lab_rx.Vertical_Close__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                </apex:outputpanel>
                <!-- end left container -->

                <!-- start right container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <div id="oplane_button_1" class="cc-form-notation-button{!if(new_lab_rx.Occlusal_Plane__c=='Maintain Existing','-selected','')}" onclick="increment_ajax();toggle_lab_rx_picklist(this.className,'Occlusal_Plane__c','Maintain Existing');reset_form_buttons(['oplane_button_2']);toggle_form_button(this);hide_sub_section('new_lab_oplan_{!pot.plan.id}');">Maintain existing</div>
                    <div id="oplane_button_2" class="cc-form-notation-button{!if(new_lab_rx.Occlusal_Plane__c=='Other','-selected','')}" onclick="increment_ajax();toggle_lab_rx_picklist(this.className,'Occlusal_Plane__c','Other');reset_form_buttons(['oplane_button_1']);toggle_form_button(this);adjust_sub_section(this.className,'new_lab_oplan_{!pot.plan.id}');">Other</div>
                  </apex:outputpanel>
                  <!-- end row -->
				  <!-- start row -->
				  <div id="new_lab_oplan_{!pot.plan.id}" class="cc-perio-prosth-row no-print" style="align-items: flex-start;{!if(new_lab_rx.Occlusal_Plane__c=='Other','display:flex;','display:none')}">				  				  
                  <!-- <apex:outputpanel rendered="{!if(new_lab_rx.Occlusal_Plane__c=='Other',true,false)}" layout="block" styleclass="cc-perio-prosth-row no-print" style="align-items:flex-start; "> -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected" style="min-width:125px;">Other Note:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer cc-form-input-markSelected">
                        <apex:inputField value="{!new_lab_rx.Occlusal_Plane_Other__c}" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  <!-- </apex:outputpanel> -->
                  </div>
                  <!-- end row -->
				  <!-- start row -->
                  <apex:outputpanel rendered="{!if(new_lab_rx.Occlusal_Plane__c=='Other',true,false)}" layout="block" styleclass="cc-perio-prosth-row print-only" style="align-items:flex-start; ">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected" style="min-width:125px;">Other Note:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer cc-form-input-markSelected">
                        <apex:outputField value="{!new_lab_rx.Occlusal_Plane_Other__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->
                </apex:outputpanel>
                <!-- end right container -->
              </apex:outputpanel>
              <!-- end columnContainer -->
            </apex:outputpanel>
            <!-- end form section container -->
                        

            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container no-print">
              <!-- start header-->
              <apex:outputpanel layout="block" styleclass="cc-form-row-header cc-section-header cc-font-light-16 no-print">Attachments
                <apex:outputpanel layout="block" styleclass="cc_cc-notes-section-header-right" rendered="{!if(new_lab_rx.id==null,false,true)}">
                  <div class="cc-section-header-add cc-hover-tooltips-dark" id="cc-patient-notes-add" onclick="display_rx_attachment_form('{!new_lab_rx.id}');">
                    <i class="ccf-add-md"></i>
                    <apex:outputpanel layout="block" styleclass="cc-center cc-tooltip">Add File</apex:outputpanel>
                  </div>
                </apex:outputpanel>
              </apex:outputpanel>
              <!-- end header -->
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left" style="width:100%;">
                  <!-- start row -->
                  <apex:outputpanel layout="block" rendered="{!display_attachment_form}">
                    <apex:outputpanel layout="block" rendered="{!if(new_rx_attachment.parentid==new_lab_rx.id,true,false)}" >
                      <div id="file_droparea" class="file_drop_outer">
	                    <div id="file_droparea_out" class="file_drop_inner">
	                      Drop a file here
	                    </div>
	                  </div>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end row -->

                  <!-- start row -->
                  <apex:outputpanel layout="block" rendered="{!if(new_lab_rx.id==null,true,false)}">
                    <span style="font-style:italic;padding-left:10px;">Attachments are only available after initial save</span>
                  </apex:outputpanel>
                  <!-- end row -->

                  <apex:repeat var="file" value="{!new_lab_rx.attachments}">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(file.id!=current_edit_id,true,false)}">
                      <div class="cc-perio-prosth-label cc-form-input-label" onclick="edit_attachment('{!file.id}');">{!file.name}</div>
			          <div class=" cc-form-input-label" onclick="edit_attachment('{!file.id}');">{!file.description}</div><span class="spacer">&nbsp;</span>
			          <apex:outputLink target="__blank" value="{!URLFOR($Action.Attachment.Download,file.id)}">Download</apex:outputLink>
                    </apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(file.id==current_edit_id,true,false)}">
			          <div class="cc-perio-prosth-label cc-form-input-label">
			            <apex:inputfield value="{!file.name}" /></div>
			          <div class=" cc-form-input-label">
			            <apex:inputfield value="{!file.description}" style="min-width:250px;"/>
			          </div><span class="spacer">&nbsp;</span>
			          <apex:outputLink target="__blank" value="{!URLFOR($Action.Attachment.Download,file.id)}">Download</apex:outputLink><span class="spacer">&nbsp;</span>
			          <apex:commandLink action="{!save_attachment_form}"  value="Save" styleclass="lblue" status="ajaxstatus" rerender="main_holder" /><span class="spacer">&nbsp;</span>
			          <apex:commandLink action="{!reset_attachment_form}"  value="Reset" styleclass="lblue" status="ajaxstatus" rerender="main_holder" /><span class="spacer">&nbsp;</span>
			          <apex:commandLink action="{!hide_attachment_form}"  value="Cancel" styleclass="lblue" status="ajaxstatus" rerender="main_holder" /><span class="spacer">&nbsp;</span>
			          <apex:commandLink action="{!confirm_delete_file}"  value="Delete" styleclass="lblue" style="color:#b13968;" status="ajaxstatus" rerender="main_holder">
			            <apex:param name="confirmation_id" value="{!file.id}"  assignTo="{!confirmation_id}"/>
			          </apex:commandLink>
			        </apex:outputpanel>
                  </apex:repeat>

                </apex:outputpanel>
                <!-- end left container -->
              </apex:outputpanel>
              <!-- end columnContainer -->
            </apex:outputpanel>
            <!-- end form section container -->
            <apex:outputpanel layout="block" styleclass="cc-pageBreak">&nbsp;</apex:outputpanel>

            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container">
              <!-- start header-->
              <apex:outputpanel layout="block" styleclass="cc-form-row-header ">Misc</apex:outputpanel>
              <!-- end header -->
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left container -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Whitening Trays:</apex:outputpanel>
                    <div id="wtray_button_1" class="cc-form-notation-button{!if(new_lab_rx.Whitening_Trays__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_lab_rx_picklist(this.className,'Whitening_trays__c','Yes');reset_form_buttons(['wtray_button_2']);toggle_form_button(this);adjust_sub_section(this.className,'new_lab_wtray_{!pot.plan.id}');">Yes</div>
                    <div id="wtray_button_2" class="cc-form-notation-button{!if(new_lab_rx.Whitening_Trays__c=='No','-selected','')}" onclick="increment_ajax();toggle_lab_rx_picklist(this.className,'Whitening_trays__c','No');reset_form_buttons(['wtray_button_1']);toggle_form_button(this);hide_sub_section('new_lab_wtray_{!pot.plan.id}');">No</div>
                  </apex:outputpanel>
                  <!-- end row -->
                  <!-- start row -->
                  <div id="new_lab_wtray_{!pot.plan.id}" class="cc-perio-prosth-row" style="align-items: flex-start;{!if(new_lab_rx.Whitening_Trays__c=='Yes','display:flex;','display:none')}">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected" style="min-width:125px;">Tray Note:</apex:outputpanel>
                    <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input">
                        <apex:inputfield value="{!new_lab_rx.Whitening_Tray_Note__c}" styleclass="cc-patientProfile-input cc-form-input-markSelected no-print" onchange="changes_made()" />
						<apex:outputText value="{!new_lab_rx.Whitening_Tray_Note__c}" styleclass="cc-patientProfile-input cc-form-input-markSelected print-only" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
				  </div>
                  <!-- end row -->
                </apex:outputpanel>
				<!-- end left container -->

                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                   <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Provisional RPD teeth:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <!-- <apex:inputfield value="{!new_lab_rx.Provisional_RPD_teeth__c}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">        </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">         </apex:outputpanel>-->
                        <i class="ccf-tooth cc-cursor-hover cc-color-font-hover-blue " onclick="lab_rx_tooth_modal('lab','Provisional_RPD_teeth__c','Provisional RPD Teeth');"></i>
                          <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothSelected-numbers">
                            {!new_lab_rx.Provisional_RPD_teeth__c}
                          </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start row -->
			      <div class="cc-perio-prosth-row">
			        <div class="cc-perio-prosth-label cc-form-input-label">&nbsp;</div>
			        <div class="cc-patientProfile-input-container">
  			          <apex:outputpanel layout="block" styleclass="cc-form-notation-button no-print" rendered="{!if(new_lab_rx.Reviewed_By__c=='' && is_user_doctor &&new_lab_rx.id!='',true,false)}" onclick="doctor_review_lab_rx();">Doctor Reviewed</apex:outputpanel>
  			          <apex:outputpanel layout="block" rendered="{!if(new_lab_rx.Reviewed_By__c=='',false,true)}" style="font-style:italic;">
  			            Reviewed By - {!new_lab_rx.reviewed_by__r.name} &nbsp;(<apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                          <apex:param value="{!new_lab_rx.Review_Time__c}" />
                        </apex:outputText>)
  			          </apex:outputpanel>
			        </div>
			      </div>
			      <!-- end row -->
                </apex:outputpanel>
              </apex:outputpanel>
              
            </apex:outputpanel>
            <!-- end form section container -->
          </div>
        </apex:outputpanel>
        <!--end new lab rx form/edit existing lab rx form--->

        <!--start surgical rx section---->
        <apex:outputpanel layout="block" styleclass="cc-clinical-schedule-POT-container">
          <apex:outputpanel layout="block" styleclass="cc-patient-form-category-header cc-forms-surgicalRx">
            <apex:outputpanel >Surgical Rx</apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-subSection-buttons-container">
              <apex:outputpanel layout="block" styleclass="cc-subSection-button cc-hover-tooltips-light ">
                <div class="cc-subSection-button-icon cc-subSection-button-addLabRx" templateid="cc-perio-labRx-container" onclick="new_surgical_rx_form('{!pot.plan.id}');">
                  <i class="ccf-add-light cc-font-light"></i>
                </div>
                <apex:outputpanel layout="block" styleclass="cc-tooltip cc-center cc-subSection-tooltip-position" style="width:240px">
                  Add Surgical Rx
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
          <!--repeat through existing lab rx-->
          <apex:outputpanel layout="block" styleclass="cc-patient-appointments-list cc-forms-collapsed-container">
            <apex:repeat var="surgical_rx" value="{!pot.surgical_rx_list}" >
              <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-collapsed" rendered="{!if(new_surgical_rx.id==surgical_rx.id,false,true)}" >
                <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label-container" style="">
                  <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-button-container" onclick="edit_surgical_rx_form('{!surgical_rx.id}');" style="z-index: 900;">
                    <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-button cc-perio-form-row-template-button-default ">
                      <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label-icon">
                        <i class="ccf-write"></i>
                      </apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label" >{!surgical_rx.dr_for__c}&nbsp;-&nbsp;
                        <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                          <apex:param value="{!surgical_rx.createddate}" />
                        </apex:outputText>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
          <!--end repeat through existing surgical rx-->

        </apex:outputpanel>
        <!-- end surgical rx section -->
        <!-- start new lab rx form/edit existing lab rx form -->
        <apex:outputpanel layout="block" rendered="{!if(display_surgical_rx_form && current_srx_pot.id==pot.plan.id,true,false)}" styleclass="cc-perio-form-row-template">
          <div class="cc-form-container" style="border: 2px solid rgb(153, 153, 153); display: flex;" id="surgical_rx_holder">

            <!-- start header and form buttons -->
            <apex:outputpanel layout="block" styleclass="cc-form-header-container">
              <apex:outputpanel layout="block" styleclass="cc-form-header" style="width:50%;">Surgical Rx </apex:outputpanel>
              <apex:messages style="color:red;" />
              <div class="center_header" style="flex-grow: 2;text-align: right;  ">
                {!new_surgical_rx.center_information__r.legal_name__c}<br />
                <apex:outputtext value="{!center_address_line}" escape="false" />
              </div>
              <apex:outputpanel layout="block" styleclass="cc-form-header-action-container">
                <apex:outputpanel rendered="{!if(new_surgical_rx.id=='',false,true)}">
                  <span class="icon_tooltip">
			        <i class="ccf-x-circle" action="close" onclick="csurgical_form();"></i>
			        <apex:outputpanel styleclass="icon_tiptext" style="z-index: 5100;','')} ">
			          Close Surgical Rx
			        </apex:outputpanel>
			      </span>
                </apex:outputpanel>
                <span class="icon_tooltip">
			      <i class="ccf-save" action="save" onclick="save_surgicalrx();"></i>
			      <apex:outputpanel styleclass="icon_tiptext" style="z-index: 5100;','')} ">
			        Save Surgical Rx
			      </apex:outputpanel>
			    </span>
                <span class="icon_tooltip">
			      <i class="ccf-trash" action="trash" onclick="confirm_cancel_surgical_rx();"></i>
			      <apex:outputpanel styleclass="icon_tiptext" style="z-index: 5100;','')} ">
			        Delete Surgical Rx
			      </apex:outputpanel>
			    </span>
                <apex:outputpanel rendered="{!if(new_surgical_rx.id=='',false,true)}">
                  <span class="icon_tooltip">
			        <i class="ccf-print cc-form-clinical-printButton" action="print" onclick="print_a_form('surgical_rx_holder',false)"></i>
			        <apex:outputpanel styleclass="icon_tiptext" style=" z-index: 5100;','')} ">
			          Print Surgical Rx
			        </apex:outputpanel>
			      </span>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
            <!-- end header and form buttons -->
            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container">
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Patient Name:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient.name}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">    </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">DOB:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                          <apex:param value="{!patient.Date_of_Birth__c}" />
                        </apex:outputText>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Age:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient_age}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end left column -->

                <!-- start right column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row date">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Date:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                          <apex:param value="{!new_surgical_rx.createddate}" />
                        </apex:outputText>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">To:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:selectList value="{!new_surgical_rx.Dr_to__c}" size="1" styleClass="cc-patientProfile-input" onchange="changes_made();">
                          <apex:selectOptions value="{!active_doctor_list}" />
                        </apex:selectList>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">From:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:selectList value="{!new_surgical_rx.DR_for__c}" size="1" styleClass="cc-patientProfile-input" onchange="changes_made();">
                          <apex:selectOptions value="{!active_doctor_list}" />
                        </apex:selectList>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Re:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Reason__c}" styleclass="cc-patientProfile-input" onchange="changes_made();"  onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">         </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end right column -->
              </apex:outputpanel>
              <!-- end columnContainer -->
            </apex:outputpanel>
            <!-- end form section container -->

            <!-- removed by cm on 6-29-2016
            <apex:outputpanel layout="block" styleclass="cc-form-content-container">

              <apex:outputpanel layout="block" styleclass="cc-form-row-header">Vitals</apex:outputpanel>


              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">

                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">

                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Weight:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.weight__c}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>


                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Height:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.height_feet__c}" styleclass="cc-patientProfile-input" style="width:25px;" /> '
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">        </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">    </apex:outputpanel>
                      </apex:outputpanel>&nbsp;
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.height_inches__c}" styleclass="cc-patientProfile-input" style="width:25px;"/> "
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">        </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">    </apex:outputpanel>
                      </apex:outputpanel>

                    </apex:outputpanel>


                  <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">BMI:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.bmi__c}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>

                  </apex:outputpanel>


                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">

                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Pulse:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.pulse__c}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">   </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>


                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Pulse Ox:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.pulse_ox__c}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>

                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">BP:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.bp_systolic__c}" styleclass="cc-patientProfile-input"  style="width:50px;"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">        </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">    </apex:outputpanel>
                      </apex:outputpanel>&nbsp;/
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.bp_diastolic__c}" styleclass="cc-patientProfile-input" style="width:50px;" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">        </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">    </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>

                  </apex:outputpanel>

                </apex:outputpanel>

              </apex:outputpanel>
              -->

              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header ">Caution</apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" style="width:100%;">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-font-bold cc-form-input-label-markSelected" >Drug allergies:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                        {!patient_allergy_info}
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                  <!--
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">

                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">ASA:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="asa_button_1" class="cc-form-notation-button{!if(new_surgical_rx.asa__c=='1','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'ASA__c','1');reset_asa_buttons();toggle_form_button(this);">I</div>
                        <div id="asa_button_2" class="cc-form-notation-button{!if(new_surgical_rx.asa__c=='2','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'ASA__c','2');reset_asa_buttons();toggle_form_button(this);">II</div>
                        <div id="asa_button_3" class="cc-form-notation-button{!if(new_surgical_rx.asa__c=='3','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'ASA__c','3');reset_asa_buttons();toggle_form_button(this);">III</div>
                      </apex:outputpanel>
                    </apex:outputpanel>

                  </apex:outputpanel>
                  <!-- end right container -->
                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->

              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container ">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header {!if(new_surgical_rx.Include_Upper_Arch__c,'','no-print')}">
                  <apex:inputfield value="{!new_surgical_rx.Include_Upper_Arch__c}" onchange="increment_ajax();toggle_surgical_rx_boolean('include_upper_arch__c',this.checked);boolean_sub_section(this.checked,'upper_arch_include_{!pot.plan.id}')" /> &nbsp;Upper Arch Replacement
                </apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->                
                <div id="upper_arch_include_{!pot.plan.id}" class="cc-form-content-columnContainer" style="{!if(new_surgical_rx.Include_Upper_Arch__c,'display:flex;','display:none')}">                
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Max Ant. Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Max_max_ant_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Max L Post Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Max_max_left_post_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Max R Post Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.MAX_max_right_post_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->                   
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">System:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="max_system_1" class="cc-form-notation-button{!if(new_surgical_rx.max_implant_system__c=='Straumann','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'max_implant_system__c','Straumann');reset_form_buttons(['max_system_2','max_system_3','max_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'max_implant_system_selection_{!pot.plan.id}');hide_sub_section('max_implant_system_other_{!pot.plan.id}');adjust_system_type('uarch','Straumann',this.className);">Straumann</div>
                        <div id="max_system_2" class="cc-form-notation-button{!if(new_surgical_rx.max_implant_system__c=='Neodent','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'max_implant_system__c','Neodent');reset_form_buttons(['max_system_1','max_system_3','max_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'max_implant_system_selection_{!pot.plan.id}');hide_sub_section('max_implant_system_other_{!pot.plan.id}');adjust_system_type('uarch','Neodent',this.className);">Neodent</div>
                        <div id="max_system_3" class="cc-form-notation-button{!if(new_surgical_rx.max_implant_system__c=='Nobel Biocare','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'max_implant_system__c','Nobel Biocare');reset_form_buttons(['max_system_1','max_system_2','max_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'max_implant_system_selection_{!pot.plan.id}');hide_sub_section('max_implant_system_other_{!pot.plan.id}');adjust_system_type('uarch','Nobel Biocare',this.className);">Nobel Biocare</div>
                        <div id="max_system_4" class="cc-form-notation-button{!if(new_surgical_rx.max_implant_system__c=='Other','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'max_implant_system__c','Other');reset_form_buttons(['max_system_1','max_system_2','max_system_3']);toggle_form_button(this);adjust_sub_section(this.className,'max_implant_system_other_{!pot.plan.id}');hide_sub_section('max_implant_system_selection_{!pot.plan.id}');adjust_other_type(this.className,'max_other');">Other</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <div id="max_implant_system_other_{!pot.plan.id}" class="cc-perio-prosth-row" style="align-items: flex-start;{!if(new_surgical_rx.Max_Implant_System__c=='Other','display:flex;','display:none')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">System Other:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Max_Implant_System_Other__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel><br />                      
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Max_Implant_teeth__c}" styleclass="cc-patientProfile-input cc-form-input-markSelected max_other" onchange="changes_made();"/>
			            <div class="cc-inputBottomBorder">  </div>
			            <div class="cc-inputBottomBorder-off">  </div>
			          </apex:outputpanel>
                    </div>
                    <!-- end row -->
                    <!-- start row -->
                    <div id="max_implant_system_selection_{!pot.plan.id}" class="cc-perio-prosth-row" style="align-items: flex-start;{!if(new_surgical_rx.Max_Implant_System__c=='' || new_surgical_rx.max_Implant_System__c=='Other','display:none;','display:flex')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <select size="1" class="cc-patientProfile-input uarch" onchange="increment_ajax();toggle_surgical_rx_text('max_implant_teeth__c',this.options[this.selectedIndex].value);">
                          <apex:repeat var="sopt" value="{!max_itype_options}">                            
                            <apex:outputtext value="{!sopt.option_html}" escape="false" />
                          </apex:repeat>                                                    			              
			            </select>			            
                      </apex:outputpanel>
                    </div>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                  <!-- start right container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="max_graft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.max_grafting__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'max_grafting__c','Yes');reset_form_buttons(['max_graft_2']);toggle_form_button(this);adjust_sub_section(this.className,'max_graft_yes_{!pot.plan.id}');">Yes</div>
                        <div id="max_graft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.max_grafting__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'max_grafting__c','No');reset_form_buttons(['max_graft_1']);toggle_form_button(this);hide_sub_section('max_graft_yes_{!pot.plan.id}');">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->                    
                    <div id="max_graft_yes_{!pot.plan.id}" class="cc-perio-prosth-row no-print" style="align-items: flex-start;{!if(new_surgical_rx.Max_Grafting__c=='Yes','display:flex;','display:none')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Grafting Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:inputfield value="{!new_surgical_rx.Max_Grafting_Note__c}" onchange="changes_made();"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </div>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row print-only" rendered="{!if(new_surgical_rx.Max_Grafting__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Grafting Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:outputfield value="{!new_surgical_rx.Max_Grafting_Note__c}"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Sinus Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="ua_sgraft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_arch_sinus_grafting__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'upper_arch_sinus_grafting__c','Yes');reset_form_buttons(['ua_sgraft_2']);toggle_form_button(this);">Yes</div>
                        <div id="ua_sgraft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_arch_sinus_grafting__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'upper_arch_sinus_grafting__c','No');reset_form_buttons(['ua_sgraft_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Sinus Grafting Location:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputpanel layout="block" styleclass="universal-toggle cc-form-notation-button{!if(new_surgical_rx.Upper_Arch_Sinus_Grafting_Left__c,'-selected','')}" onclick="increment_ajax();toggle_surgicalrx_boolean(this.className,'upper_arch_sinus_grafting_left__c');toggle_form_button(this);">Left</apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="universal-toggle cc-form-notation-button{!if(new_surgical_rx.Upper_Arch_Sinus_Grafting_Right__c,'-selected','')}" onclick="increment_ajax();toggle_surgicalrx_boolean(this.className,'upper_arch_sinus_grafting_right__c');toggle_form_button(this);">Right</apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row --> 
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row"> 
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Placement:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="uiplace_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_immediate_placement__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'upper_immediate_placement__c','Yes');reset_form_buttons(['uiplace_2']);toggle_form_button(this);adjust_sub_section(this.className,'immediate_placement_yes_{!pot.plan.id}');">Yes</div>
                        <div id="uiplace_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_immediate_placement__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'upper_immediate_placement__c','No');reset_form_buttons(['uiplace_1']);toggle_form_button(this);hide_sub_section('immediate_placement_yes_{!pot.plan.id}');">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Load:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="uiload_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_immediate_load__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'upper_immediate_load__c','Yes');reset_form_buttons(['uiload_2']);toggle_form_button(this);">Yes</div>
                        <div id="uiload_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_immediate_load__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'upper_immediate_load__c','No');reset_form_buttons(['uiload_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <div id="immediate_placement_yes_{!pot.plan.id}" class="cc-perio-prosth-row no-print" style="align-items: flex-start;{!if(new_surgical_rx.Upper_Immediate_Placement__c=='Yes','display:flex;','display:none')}">                    
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:inputfield value="{!new_surgical_rx.Upper_Immediate_Notes__c}" onchange="changes_made();"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </div>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row print-only" rendered="{!if(new_surgical_rx.Upper_Immediate_Placement__c=='Yes' || new_surgical_rx.Upper_Immediate_Load__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:outputfield value="{!new_surgical_rx.Upper_Immediate_Notes__c}" />
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->

                  </apex:outputpanel>
                  <!-- end right container -->
                </div>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->
              <apex:outputpanel layout="block" styleclass="cc-pageBreak">&nbsp;</apex:outputpanel>

              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header {!if(new_surgical_rx.Include_Lower_Arch__c,'','no-print')}">
                  <apex:inputfield value="{!new_surgical_rx.Include_Lower_Arch__c}" onchange="increment_ajax();toggle_surgical_rx_boolean('include_lower_arch__c',this.checked);boolean_sub_section(this.checked,'lower_arch_include_{!pot.plan.id}')" /> &nbsp;Lower Arch Replacement
                </apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <div id="lower_arch_include_{!pot.plan.id}" class="cc-form-content-columnContainer" style="{!if(new_surgical_rx.Include_lower_Arch__c,'display:flex;','display:none')}">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Mand Ant. Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Man_max_ant_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Mand L Post Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Man_max_left_post_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Mand R Post Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Man_max_right_post_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}"/>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">      </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <!-- <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-form-input-label-markSelected cc-perio-prosth-label">Implants:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Man_implant_teeth__c}" styleclass="cc-patientProfile-input cc-form-input-markSelected"  />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>-->
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">System:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="man_system_1" class="cc-form-notation-button{!if(new_surgical_rx.man_implant_system__c=='Straumann','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'man_implant_system__c','Straumann');reset_form_buttons(['man_system_2','man_system_3','man_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'man_implant_system_selection_{!pot.plan.id}');hide_sub_section('man_implant_system_other_{!pot.plan.id}');adjust_system_type('larch','Straumann',this.className);">Straumann</div>
                        <div id="man_system_2" class="cc-form-notation-button{!if(new_surgical_rx.man_implant_system__c=='Neodent','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'man_implant_system__c','Neodent');reset_form_buttons(['man_system_1','man_system_3','man_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'man_implant_system_selection_{!pot.plan.id}');hide_sub_section('man_implant_system_other_{!pot.plan.id}');adjust_system_type('larch','Neodent',this.className);">Neodent</div>
                        <div id="man_system_3" class="cc-form-notation-button{!if(new_surgical_rx.man_implant_system__c=='Nobel Biocare','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'man_implant_system__c','Nobel Biocare');reset_form_buttons(['man_system_1','man_system_2','man_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'man_implant_system_selection_{!pot.plan.id}');hide_sub_section('man_implant_system_other_{!pot.plan.id}');adjust_system_type('larch','Nobel Biocare',this.className);">Nobel Biocare</div>
                        <div id="man_system_4" class="cc-form-notation-button{!if(new_surgical_rx.man_implant_system__c=='Other','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'man_implant_system__c','Other');reset_form_buttons(['man_system_1','man_system_2','man_system_3']);toggle_form_button(this);adjust_sub_section(this.className,'man_implant_system_other_{!pot.plan.id}');hide_sub_section('man_implant_system_selection_{!pot.plan.id}');adjust_other_type(this.className,'mand_other');">Other</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <div id="man_implant_system_other_{!pot.plan.id}" class="cc-perio-prosth-row" style="align-items: flex-start;{!if(new_surgical_rx.man_Implant_System__c=='Other','display:flex;','display:none')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">System Other:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Man_Implant_System_Other__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel><br />                      
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Man_implant_teeth__c}" styleclass="cc-patientProfile-input cc-form-input-markSelected mand_other" onchange="changes_made();"/>
			            <div class="cc-inputBottomBorder">  </div>
			            <div class="cc-inputBottomBorder-off">  </div>
			          </apex:outputpanel>
                    </div>
                    <!-- end row -->
                    <!-- start row -->
                    <div id="man_implant_system_selection_{!pot.plan.id}" class="cc-perio-prosth-row" style="align-items: flex-start;{!if(new_surgical_rx.man_Implant_System__c=='' || new_surgical_rx.man_Implant_System__c=='Other','display:none;','display:flex')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
			            <select size="1" class="cc-patientProfile-input larch" onchange="increment_ajax();toggle_surgical_rx_text('man_implant_teeth__c',this.options[this.selectedIndex].value);">
                          <apex:repeat var="sopt" value="{!man_itype_options}">                            
                            <apex:outputtext value="{!sopt.option_html}" escape="false" />
                          </apex:repeat>                                                    			              
			            </select>			            
                      </apex:outputpanel>
                    </div>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                  <!-- start right container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="mand_graft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.mand_grafting__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'mand_grafting__c','Yes');reset_form_buttons(['mand_graft_2']);toggle_form_button(this);adjust_sub_section(this.className,'mand_graft_yes_{!pot.plan.id}');">Yes</div>
                        <div id="mand_graft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.mand_grafting__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'mand_grafting__c','No');reset_form_buttons(['mand_graft_1']);toggle_form_button(this);hide_sub_section('mand_graft_yes_{!pot.plan.id}');">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->                    
                    <div id="mand_graft_yes_{!pot.plan.id}" class="cc-perio-prosth-row no-print" style="align-items: flex-start;{!if(new_surgical_rx.mand_Grafting__c=='Yes','display:flex;','display:none')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Grafting Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:inputfield value="{!new_surgical_rx.Mand_Grafting_note__c}" onchange="changes_made();"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </div>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row print-only" rendered="{!if(new_surgical_rx.Mand_grafting__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Grafting Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:outputfield value="{!new_surgical_rx.Mand_Grafting_note__c}"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->                    
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Placement:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="liplace_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.lower_immediate_placement__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'lower_immediate_placement__c','Yes');reset_form_buttons(['liplace_2']);toggle_form_button(this);adjust_sub_section(this.className,'immediate_lower_placement_yes_{!pot.plan.id}');" >Yes</div>
                        <div id="liplace_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.lower_immediate_placement__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'lower_immediate_placement__c','No');reset_form_buttons(['liplace_1']);toggle_form_button(this);hide_sub_section('immediate_lower_placement_yes_{!pot.plan.id}');">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Load:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="liload_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.lower_immediate_load__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'lower_immediate_load__c','Yes');reset_form_buttons(['liload_2']);toggle_form_button(this);">Yes</div>
                        <div id="liload_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.lower_immediate_load__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'lower_immediate_load__c','No');reset_form_buttons(['liload_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
					<!-- start row -->
					<div id="immediate_lower_placement_yes_{!pot.plan.id}" class="cc-perio-prosth-row no-print" style="align-items: flex-start;{!if(new_surgical_rx.Lower_Immediate_Placement__c=='Yes','display:flex;','display:none')}">                    
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:inputfield value="{!new_surgical_rx.Lower_Immediate_Load_Notes__c}" onchange="changes_made();"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </div>
                    <!-- end row -->
					<!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row print-only" rendered="{!if(new_surgical_rx.Lower_Immediate_Placement__c=='Yes' || new_surgical_rx.Lower_Immediate_Load__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:outputField value="{!new_surgical_rx.Lower_Immediate_Load_Notes__c}"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end right container -->
                </div>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->

              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header ">Extractions</apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left" style="width:80%;">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-form-input-label-markSelected cc-perio-prosth-label">Extract :</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <i class="ccf-tooth cc-cursor-hover cc-color-font-hover-blue " onclick="update_srx('surgical','Extraction_teeth__c','Extraction Teeth');"></i>
                        <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothSelected-numbers">
                          {!new_surgical_rx.Extraction_teeth__c}
                        </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-textAreaContainer no-print">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Extraction Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:inputfield value="{!new_surgical_rx.Extraction_Notes__c}" onchange="changes_made();"/>
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-textAreaContainer print-only">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Extraction Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputfield value="{!new_surgical_rx.Extraction_Notes__c}" />
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->
              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header {!if(new_surgical_rx.Include_SM__c,'','no-print')}">
                  <apex:inputfield value="{!new_surgical_rx.Include_SM__c}" onchange="increment_ajax();toggle_surgical_rx_boolean('include_sm__c',this.checked);boolean_sub_section(this.checked,'sm_include_{!pot.plan.id}')" /> &nbsp;Single/Multiple Implants
                </apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <div id="sm_include_{!pot.plan.id}" class="cc-form-content-columnContainer" style="{!if(new_surgical_rx.Include_sm__c,'display:flex;','display:none')}">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-form-input-label-markSelected cc-perio-prosth-label">Implant Placement:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <i class="ccf-tooth cc-cursor-hover cc-color-font-hover-blue " onclick="update_srx('surgical','Implant_Placement__c','Implant Placement');"></i>
                        <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothSelected-numbers">
                          {!new_surgical_rx.Implant_Placement__c}
                        </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">System:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="sm_system_1" class="cc-form-notation-button{!if(new_surgical_rx.sm_implant_system__c=='Straumann','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_implant_system__c','Straumann');reset_form_buttons(['sm_system_2','sm_system_3','sm_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'sm_implant_system_selection_{!pot.plan.id}');hide_sub_section('sm_implant_system_other_{!pot.plan.id}');adjust_system_type('smimplant','Straumann',this.className);">Straumann</div>
                        <div id="sm_system_2" class="cc-form-notation-button{!if(new_surgical_rx.sm_implant_system__c=='Neodent','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_implant_system__c','Neodent');reset_form_buttons(['sm_system_1','sm_system_3','sm_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'sm_implant_system_selection_{!pot.plan.id}');hide_sub_section('sm_implant_system_other_{!pot.plan.id}');adjust_system_type('smimplant','Neodent',this.className);">Neodent</div>
                        <div id="sm_system_3" class="cc-form-notation-button{!if(new_surgical_rx.sm_implant_system__c=='Nobel Biocare','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_implant_system__c','Nobel Biocare');reset_form_buttons(['sm_system_1','sm_system_2','sm_system_4']);toggle_form_button(this);adjust_sub_section(this.className,'sm_implant_system_selection_{!pot.plan.id}');hide_sub_section('sm_implant_system_other_{!pot.plan.id}');adjust_system_type('smimplant','Nobel Biocare',this.className);">Nobel Biocare</div>
                        <div id="sm_system_4" class="cc-form-notation-button{!if(new_surgical_rx.sm_implant_system__c=='Other','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_implant_system__c','Other');reset_form_buttons(['sm_system_1','sm_system_2','sm_system_3']);toggle_form_button(this);adjust_sub_section(this.className,'sm_implant_system_other_{!pot.plan.id}');hide_sub_section('sm_implant_system_selection_{!pot.plan.id}');adjust_other_type(this.className,'smimplant_other');">Other</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <div id="sm_implant_system_other_{!pot.plan.id}" class="cc-perio-prosth-row" style="align-items: flex-start;{!if(new_surgical_rx.sm_Implant_System__c=='Other','display:flex;','display:none')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">System Other:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.SM_Implant_System_Other__c}" styleclass="cc-patientProfile-input" onchange="changes_made();" onkeydown="if(event.keyCode==13){this.blur();}" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel><br />                      
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.SM_Implant_System_Type__c}" styleclass="cc-patientProfile-input cc-form-input-markSelected smimplant_other" onchange="changes_made();"/>
			            <div class="cc-inputBottomBorder">  </div>
			            <div class="cc-inputBottomBorder-off">  </div>
			          </apex:outputpanel>
                    </div>
                    <!-- end row -->
                    <!-- start row -->
                    <div id="sm_implant_system_selection_{!pot.plan.id}" class="cc-perio-prosth-row" style="align-items: flex-start;{!if(new_surgical_rx.sm_Implant_System__c=='' || new_surgical_rx.sm_Implant_System__c=='Other','display:none;','display:flex')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">                        
			            <select size="1" class="cc-patientProfile-input smimplant" onchange="increment_ajax();toggle_surgical_rx_text('SM_Implant_System_Type__c',this.options[this.selectedIndex].value);">
                          <apex:repeat var="sopt" value="{!sm_itype_options}">                            
                            <apex:outputtext value="{!sopt.option_html}" escape="false" />
                          </apex:repeat>                                                    			              
			            </select>			            
                      </apex:outputpanel>
                    </div>
                    <!-- end row -->                                      
                  </apex:outputpanel>
                  <!-- end left container -->

                  <!-- start right container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="sm_graft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.single_multi_grafting__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'single_multi_grafting__c','Yes');reset_form_buttons(['sm_graft_2']);toggle_form_button(this);adjust_sub_section(this.className,'sm_graft_yes_{!pot.plan.id}');">Yes</div>
                        <div id="sm_graft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.single_multi_grafting__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'single_multi_grafting__c','No');reset_form_buttons(['sm_graft_1']);toggle_form_button(this);hide_sub_section('sm_graft_yes_{!pot.plan.id}');">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
					<!-- start row -->
					<div id="sm_graft_yes_{!pot.plan.id}" class="cc-perio-prosth-row no-print" style="align-items: flex-start;{!if(new_surgical_rx.single_multi_grafting__c=='Yes','display:flex;','display:none')}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected" style="min-width:150px;">Grafting Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:inputfield value="{!new_surgical_rx.Single_Multi_Grafting_Note__c}" onchange="changes_made();"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </div>  
                    <!-- end row -->
					<!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row print-only" rendered="{!if(new_surgical_rx.Single_Multi_Grafting__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected" style="min-width:150px;">Grafting Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:outputfield value="{!new_surgical_rx.Single_Multi_Grafting_Note__c}"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Sinus Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="sm_sgraft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_sinus_grafting__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_sinus_grafting__c','Yes');reset_form_buttons(['sm_sgraft_2']);toggle_form_button(this);">Yes</div>
                        <div id="sm_sgraft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_sinus_grafting__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_sinus_grafting__c','No');reset_form_buttons(['sm_sgraft_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Sinus Grafting Location:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputpanel layout="block" styleclass="universal-toggle cc-form-notation-button{!if(new_surgical_rx.SM_Sinus_Grafting_Left__c,'-selected','')}" onclick="increment_ajax();toggle_surgicalrx_boolean(this.className,'sm_sinus_grafting_left__c');toggle_form_button(this);">Left</apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="universal-toggle cc-form-notation-button{!if(new_surgical_rx.SM_Sinus_Grafting_Right__c,'-selected','')}" onclick="increment_ajax();toggle_surgicalrx_boolean(this.className,'sm_sinus_grafting_right__c');toggle_form_button(this);">Right</apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->                    
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Load:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="smload_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_immediate_load__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_immediate_load__c','Yes');reset_form_buttons(['smload_2']);toggle_form_button(this);">Yes</div>
                        <div id="smload_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_immediate_load__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_immediate_load__c','No');reset_form_buttons(['smload_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Placement:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="smplace_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_immediate_placement__c=='Yes','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_immediate_placement__c','Yes');reset_form_buttons(['smplace_2']);toggle_form_button(this);adjust_sub_section(this.className,'immediate_sm_placement_yes_{!pot.plan.id}');">Yes</div>
                        <div id="smplace_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_immediate_placement__c=='No','-selected','')}" onclick="increment_ajax();toggle_surgical_rx_picklist(this.className,'sm_immediate_placement__c','No');reset_form_buttons(['smplace_1']);toggle_form_button(this);hide_sub_section('immediate_sm_placement_yes_{!pot.plan.id}');">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
					<!-- start row -->
					<div id="immediate_sm_placement_yes_{!pot.plan.id}" class="cc-perio-prosth-row no-print" style="align-items: flex-start;{!if(new_surgical_rx.sm_Immediate_Placement__c=='Yes' || new_surgical_rx.SM_Immediate_Load__c=='Yes','display:flex;','display:none')}">                    
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:inputfield value="{!new_surgical_rx.SM_Immediate_Load_Notes__c}" onchange="changes_made();"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </div>
                    <!-- end row -->
					<!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row print-only" rendered="{!if(new_surgical_rx.SM_Immediate_Placement__c=='Yes' || new_surgical_rx.SM_Immediate_Load__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputpanel layout="block" styleclass="cc-form-textAreaContainer">
	                        <apex:outputField value="{!new_surgical_rx.SM_Immediate_Load_Notes__c}"/>
	                      </apex:outputpanel>
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end right container -->

                </div>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->

              <!-- start form section container -->
	            <apex:outputpanel layout="block" id="srx_attachment" styleclass="cc-form-content-container">
	              <!-- start header-->
	              <apex:outputpanel layout="block" styleclass="cc-form-row-header cc-section-header cc-font-light-16 no-print">Attachments
	                <apex:outputpanel layout="block" styleclass="cc_cc-notes-section-header-right" rendered="{!if(new_surgical_rx.id==null,false,true)}">
	                  <div class="cc-section-header-add cc-hover-tooltips-dark" id="cc-patient-notes-add" onclick="display_sx_attachment_form('{!new_surgical_rx.id}');">
	                    <i class="ccf-add-md"></i>
	                    <apex:outputpanel layout="block" styleclass="cc-center cc-tooltip">Add File</apex:outputpanel>
	                  </div>
	                </apex:outputpanel>
	              </apex:outputpanel>
	              <!-- end header -->

	              <!-- start columnContainer -->
	              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
	                <!-- start left container -->
	                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left" style="width:100%;">
	                  <!-- start row -->
	                  <apex:outputpanel layout="block" rendered="{!display_sx_attachment_form}">
	                    <apex:outputpanel layout="block" rendered="{!if(new_sx_attachment.parentid==new_surgical_rx.id,true,false)}" >
	                      <div id="sx_file_droparea" class="file_drop_outer">
		                    <div id="sx_file_droparea_out" class="file_drop_inner">
		                      Drop a file here
		                    </div>
		                  </div>
	                    </apex:outputpanel>
	                  </apex:outputpanel>
	                  <!-- end row -->

	                  <!-- start row -->
	                  <apex:outputpanel layout="block" rendered="{!if(new_surgical_rx.id==null,true,false)}">
	                    <span style="font-style:italic;padding-left:10px;">Attachments are only available after initial save</span>
	                  </apex:outputpanel>
	                  <!-- end row -->

	                  <apex:repeat var="file" value="{!new_surgical_rx.attachments}">
	                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(file.id!=current_edit_id,true,false)}">
	                      <div class="cc-perio-prosth-label cc-form-input-label" onclick="edit_attachment('{!file.id}');">{!file.name}</div>
				          <div class=" cc-form-input-label" onclick="edit_attachment('{!file.id}');">{!file.description}</div><span class="spacer">&nbsp;</span>
				          <apex:outputLink target="__blank" value="{!URLFOR($Action.Attachment.Download,file.id)}">Download</apex:outputLink>
	                    </apex:outputpanel>
	                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(file.id==current_edit_id,true,false)}">
				          <div class="cc-perio-prosth-label cc-form-input-label">
				            <apex:inputfield value="{!file.name}" /></div>
				          <div class=" cc-form-input-label">
				            <apex:inputfield value="{!file.description}" style="min-width:250px;"/>
				          </div><span class="spacer">&nbsp;</span>
				          <apex:outputLink target="__blank" value="{!URLFOR($Action.Attachment.Download,file.id)}">Download</apex:outputLink><span class="spacer">&nbsp;</span>
				          <apex:commandLink action="{!save_sx_attachment_form}"  value="Save" styleclass="lblue" status="ajaxstatus" rerender="srx_attachment" /><span class="spacer">&nbsp;</span>
				          <apex:commandLink action="{!reset_sx_attachment_form}"  value="Reset" styleclass="lblue" status="ajaxstatus" rerender="srx_attachment" /><span class="spacer">&nbsp;</span>
				          <apex:commandLink action="{!hide_attachment_form}"  value="Cancel" styleclass="lblue" status="ajaxstatus" rerender="srx_attachment" /><span class="spacer">&nbsp;</span>
				          <apex:commandLink action="{!confirm_delete_sx_file}"  value="Delete" styleclass="lblue" style="color:#b13968;" status="ajaxstatus" rerender="main_holder">
				            <apex:param name="confirmation_id" value="{!file.id}"  assignTo="{!confirmation_id}"/>
				          </apex:commandLink>
				        </apex:outputpanel>
	                  </apex:repeat>

	                </apex:outputpanel>
	                <!-- end left container -->
	              </apex:outputpanel>
	              <!-- end columnContainer -->


	            </apex:outputpanel>
	            <!-- end form section container -->



              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header ">Misc</apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left" style="width:95%;">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-textAreaContainer no-print">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:inputfield value="{!new_surgical_rx.Comments__c}" onchange="changes_made();" />
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-textAreaContainer print-only">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Notes:</apex:outputpanel>
					  <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
	                      <apex:outputfield value="{!new_surgical_rx.Comments__c}" />
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
			        <div class="cc-perio-prosth-row">
			          <div class="cc-perio-prosth-label cc-form-input-label">&nbsp;</div>
			          <div class="cc-patientProfile-input-container">
  			            <apex:outputpanel layout="block" styleclass="cc-form-notation-button no-print" rendered="{!if(new_surgical_rx.Reviewed_By__c=='' && is_user_doctor,true,false)}" onclick="doctor_review_surgical_rx();">Doctor Reviewed</apex:outputpanel>
  			            <apex:outputpanel layout="block" rendered="{!if(new_surgical_rx.Reviewed_By__c=='',false,true)}" style="font-style:italic;">
  			              Reviewed By - {!new_surgical_rx.reviewed_by__r.name} &nbsp;(<apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                            <apex:param value="{!new_surgical_rx.Review_Time__c}" />
                          </apex:outputText>)
  			            </apex:outputpanel>
			          </div>
			        </div>
			        <!-- end row -->
			        <!-- start row -->
			        <div class="cc-perio-prosth-row" style="padding-top:2em;">
			          <div class="signature-block print-only">
  			            <div class="signature-label">Doctor</div><div class="write-line signature"></div>
  			            <div class="signature-label">Date</div><div class="write-line date">
						</div>
			          </div>
			        </div>
			        <!-- end row -->
                    <!-- start row -->
                    <!-- pulling per Andy 5/20/2016
                     <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row ">
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputpanel layout="block" styleclass="cc-form-notation-button{!if(new_surgical_rx.grafting_as_needed__c,'-selected','')}" onclick="toggle_surgical_rx_boolean('Grafting_as_needed__c');toggle_form_button(this);">Grafting as needed</apex:outputpanel>
                    </apex:outputpanel> -->
                    <!-- end row
                  </apex:outputpanel>-->
                  <!-- end left container -->


                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->
            </apex:outputpanel>
          </div>
        </apex:outputpanel>
        <!-- end new surgical rx form/edit existing surgical rx form -->

        <!-- start medical RX section -->
        <div class="cc-clinical-schedule-POT-container">
          <div class="cc-patient-form-category-header cc-forms-drugRx">
            <div>Drug Rx</div>            
            <apex:outputpanel style="padding-left:10px;">
              <select onchange="drug_refresh(this.options[this.selectedIndex].value);" style="font-size:10pt;border:0;">                
                <apex:outputtext value="{!drug_option_list_html}" escape="false" />                
              </select>
            </apex:outputpanel>
            <apex:variable var="dfilter_display" value="false" /> 
              <div class="cc-subSection-buttons-container">
                <div class="cc-subSection-button cc-hover-tooltips-light ">
                  <div class="cc-subSection-button-icon cc-subSection-button-addDrugRx" onclick="refresh_rx_list();">
                   <i class="hrxicon-spinner11 cc-font-light"></i>
                  </div>
                  <div class="cc-tooltip cc-center cc-subSection-tooltip-position" style="width:240px">
                    Refresh Drug Rx List
                  </div>
                </div>
                <apex:outputpanel layout="block" styleclass="cc-subSection-button cc-hover-tooltips-light " rendered="{!if(patient.Date_of_Birth__c==null,false,true)}">
                  <div class="cc-subSection-button-icon cc-subSection-button-addDrugRx" templateid="cc-perio-drugRx-container">
                   <!-- <a href="{!dosespot_iframe_url}" target="__blank" class="hover_add" > <i class="ccf-add-light cc-font-light"></i></a>-->
                   <a href="{!dosespot_clinical_page_url}" target="__blank" class="hover_add" > <i class="ccf-add-light cc-font-light"></i></a>
                  </div>
                  <div class="cc-tooltip cc-center cc-subSection-tooltip-position" style="width:240px">
                    Add Drug Rx
                  </div>
                </apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-subSection-button cc-hover-tooltips-light" rendered="{!if(patient.Date_of_Birth__c==null,true,false)}">
                  <div class="cc-subSection-button-icon cc-subSection-button-addDrugRx cc-subsection-button-error-hover" templateid="cc-perio-drugRx-container">
                   <!-- <a href="{!dosespot_iframe_url}" target="__blank" class="hover_add" > <i class="ccf-add-light cc-font-light"></i></a>-->
                   <i class="ccf-warning cc-font-light" style="font-size:14pt;" ></i>
                  </div>
                  <div class="cc-tooltip cc-center cc-subSection-tooltip-position" style="width:240px">
                    Patient Missing DOB
                  </div>
                </apex:outputpanel>
              </div>
            </div>
          <div class="cc-patient-appointments-list cc-forms-collapsed-container">
            <apex:repeat var="drug" value="{!prescription_meds}">
              <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-collapsed" >
                <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label-container" style="height:100%;">
                  <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-button-container" style="z-index: 900;height:100%;">
                    <apex:outputpanel layout="block" styleclass=" " style="border: 1px dotted rgba(56, 56, 56, 0.50); color: rgba(0, 0, 0, 1); background-color: rgba(56, 56, 56, 0.15);display: flex;    padding-top: 10px;    padding-bottom: 8px;    padding-right: 5px;    padding-left: 10px;    border-radius: 4px;    align-items: center;    justify-content: center;    font-weight: 400;    transition: .25s;">
                      <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template-label" >
                        <span style="font-weight:bold;color:blue;font-size:12pt;">{!drug.rx.name}</span><br />
                        <span style="font-weight:bold;">Doctor : </span>{!drug.doctor_name} <br />
                        <span style="font-weight:bold;">QTY : </span>{!drug.rx.quantity__c} <span class="spacer">&nbsp;</span><span style="font-weight:bold;">Refills : </span>{!drug.rx.refills__c}<br />
                        <span style="font-weight:bold;">Date : </span>
                          <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                            <apex:param value="{!drug.rx.Date_Written__c}" />
                          </apex:outputText>
                          <span class="spacer">&nbsp;</span><span style="font-weight:bold;">Status : </span>
                            <span style="{!drug.span_style}">{!drug.rx.prescription_status__c}</span><br />
                        <span style="font-weight:bold;">Notes :</span> &nbsp;{!drug.rx.notes__c}<br />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </div>
        </div>
        <!-- end medical rx section -->

      </apex:repeat> <!--end repeat through plans of treatment-->

    </apex:outputpanel>

  </apex:outputpanel>

  <!-- START PATIENT SEARCH MODAL------------------>
  <apex:outputpanel layout="block" rendered="{!display_patient_search_modal}">
  <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-wrapper" style="z-index: 10100; opacity: 1;">
    <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-container" style="box-shadow: rgba(0, 0, 0, 0.74902) 0px 0px 70px -15px;">
      <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-close">
        <div id="cc-patient-patient-search-close-button" onclick="cpatient_search();">
          <i class="ccf-cancel-thin cc-color-font-black cc-cursor-hover"></i>
        </div>
      </apex:outputpanel>
      <apex:outputpanel layout="block" style="padding-bottom:10px; width: 100%">
      <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-info" style="display: flex;justify-content: space-between; flex-wrap: wrap;">

		<!--
			<style>
			.cc-patient-patient-search-container div {
			align-items: baseline;
			}

			.cc-patient-patient-search-container .column {
			flex: 1;
			margin-right: 50px;
			}
			</style>
		  <div class="column">
			<apex:outputpanel layout="block" styleclass="cc-patientProfile-row">
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-label">Last Name:</apex:outputpanel>
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
					<apex:input styleclass="cc-patientProfile-input psearch_name" value="{!search_name}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);" />
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
				</apex:outputpanel>
			</apex:outputpanel>

			<apex:outputpanel layout="block" styleclass="cc-patientProfile-row">
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-label">Phone:</apex:outputpanel>
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
					<apex:input styleclass="cc-patientProfile-input" value="{!search_phone}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);"/>
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
				</apex:outputpanel>
			</apex:outputpanel>

			<apex:outputpanel layout="block" styleclass="cc-patientProfile-row">
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-label">Unique ID:</apex:outputpanel>
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
					<apex:input styleclass="cc-patientProfile-input" value="{!search_unique}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);" />
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
				</apex:outputpanel>
			</apex:outputpanel>
		  </div>
		  <div class="column">
			<apex:outputpanel layout="block" styleclass="cc-patientProfile-row">
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-label">First Name:</apex:outputpanel>
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
					<apex:input styleclass="cc-patientProfile-input" value="{!search_first}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);" />
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
				</apex:outputpanel>
			</apex:outputpanel>


			<apex:outputpanel layout="block" styleclass="cc-patientProfile-row">
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-label">Email:</apex:outputpanel>
				<apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
					<apex:input styleclass="cc-patientProfile-input" value="{!search_email}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);" />
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
					<apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
				</apex:outputpanel>
			</apex:outputpanel>
		  </div> -->

		  <apex:outputpanel layout="block" styleclass="cc-patientProfile-row" style="width:50%;">
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-label">Last Name:</apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
              <apex:input styleclass="cc-patientProfile-input psearch_name psearch" value="{!search_name}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);" />
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-patientProfile-row" style="width:50%;">
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-label">First Name:</apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
              <apex:input styleclass="cc-patientProfile-input psearch" value="{!search_first}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);" />
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-patientProfile-row" style="width:50%;">
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-label">Phone:</apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
              <apex:input styleclass="cc-patientProfile-input psearch" value="{!search_phone}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);"/>
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-patientProfile-row" style="width:50%;">
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-label">Email:</apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
              <apex:input styleclass="cc-patientProfile-input psearch" value="{!search_email}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);" />
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-patientProfile-row" style="width:50%;margin-top:18px;align-self: flex-start;">
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-label">Unique ID:</apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
              <apex:input styleclass="cc-patientProfile-input psearch" value="{!search_unique}" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="qsearch_key(event,this.value.length);" />
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
              <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>          
          <apex:outputpanel rendered="{!if(allow_quick_search,false,true)}" layout="block" styleclass="cc-patientProfile-row" style="width:50%;align-items:flex-end;">
            <div class="cc-form-confirmTrash-button cc-form-confirmReschedule-button-confirm" onclick="direct_search_patients();">Search</div>
            <!-- <span class="spacer">&nbsp;</span>
            <apex:commandLink status="ajaxstatus" action="{!toggle_quick_search}" reRender="function_holder,main_holder" value="Enable Quick Search" styleclass="lblue" style="align-self:center;"/> -->            
          </apex:outputpanel>
          
      </apex:outputpanel>
      </apex:outputpanel>
      <apex:outputpanel layout="block" styleclass="cc-patient-schedule-search-results" rendered="{!if(search_result_size>0,true,false)}" >
        <div class="cc-patient-schedule-search-results-row-container" id="cc-patient-patient-search-results-row-container" style="opacity: 1;">
          <apex:outputpanel layout="block" styleclass="cc-patient-schedule-search-results-row-label">Search Results</apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-results-row-options">
            <apex:repeat var="patient" value="{!consult_search_results}" >
              <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-results-row-result" style="margin-top:10px;margin-bottom:20px;" onclick="view_patient('{!patient.id}');">
                <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-results-row-result-name">{!patient.name}</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="">{!patient.phone}</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="">{!patient.billingstreet}</apex:outputpanel>
                <apex:outputpanel layout="block" styleclass=""><apex:outputtext value="{!if(patient.Email__c=='',patient.personemail,patient.Email__c)}" /></apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="">{!patient.Warranty_ID__c}</apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
          <apex:outputpanel layout="block" rendered="{!display_more_search_records}" style="display:flex;">
            <div class="cc-form-notation-button" onclick="more_patients();">More Matches</div>
          </apex:outputpanel>
        </div>
      </apex:outputpanel><!--end search results-->
    </apex:outputpanel>
  </apex:outputpanel>
  </apex:outputpanel><!---END PATIENT SEARCH MODAL----->

  <!--Start New POT Modal-------->
  <apex:outputpanel layout="block" rendered="{!display_new_treatment_modal}">
<!--  <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-wrapper" style="z-index: 1100; opacity: 1;">
    <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-container" style="box-shadow: rgba(0, 0, 0, 0.74902) 0px 0px 70px -15px;">-->

  <apex:outputpanel layout="block"  styleclass="cc-clinical-addPOT-wrapper" style="z-index: 10100; opacity: 1;" id="new_pot_holder">
    <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-container" style="box-shadow: rgba(0, 0, 0, 0.74902) 0px 0px 70px -15px;">
    <apex:messages />
      <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-close">
        <apex:outputpanel layout="block" id="cc-clinical-addPOT-close-button" onclick="cnew_pot_form();">
          <i class="ccf-cancel-thin cc-color-font-black cc-cursor-hover"></i>
        </apex:outputpanel>
      </apex:outputpanel>

      <!--Start Opportunity Holder-->
      <apex:outputpanel layout="block" rendered="{!if(new_pot_display=='start',true,false)}" style="width:100%;">
        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-topHeader">Select Prosth Exam Record</apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(num_available_patient_starts==0,true,false)}">
          There are no start records for this patient without a treatment plan.  Please create a new prosth exam record before continuing.
        </apex:outputpanel>

        <apex:outputpanel layout="block" rendered="{!if(num_available_patient_starts==0,false,true)}" style="width:100%;">
          <apex:outputpanel layout="block" style="padding-top:1em;width:100%;">
            <table class="bend_table">
              <tr class="bend_header">
                <th><span class="gray_under">Name</span></th>
                <th><span class="gray_under">Treatment Plan</span></th>
                <th><span class="gray_under">Treatment Amount</span></th>
                <th><span class="gray_under">Prosth Exam Date</span></th>
              </tr>
              <apex:variable var="rowclassname" value="odd" />
              <apex:repeat var="start" value="{!patient_available_starts}">
                <tr class="{!rowclassname}">
                <apex:variable var="rowclassname" value="{!if(rowclassname=='odd','even','odd')}" />
                  <td>
                    <apex:commandlink value="{!start.o.name}" rerender="new_pot_holder" action="{!select_treatment_opp}" styleclass="lblue" status="ajaxstatus">
                      <apex:param name="pot_opp" value="{!start.o.id}" assignTo="{!pot_opp}" />
                    </apex:commandlink>
                  </td>
                  <td><apex:outputtext value="{!start.tx_name}" /></td>
                  <td><apex:outputfield value="{!start.o.Treatment_Amount__c}" /></td>
                  <td><apex:outputText value="{0,date,M'/'dd'/'yyyy}">
                    <apex:param value="{!start.o.closedate}"/>
                    </apex:outputText>
                  </td>
                </tr>
              </apex:repeat>
            </table>
          </apex:outputpanel>
        </apex:outputpanel>
      </apex:outputpanel>
      <!--End Opportunity Holder-->

      <!--START POT Selection Holder-->
      <apex:outputpanel layout="block" rendered="{!if(new_pot_display=='pot',true,false)}" style="width:100%;height:100%;">
        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-topHeader">Plan Of Treatment Templates</apex:outputpanel>
        <apex:outputpanel rendered="{!switch_treatment_plan}" layout="block" styleclass="cc-clinical-addPOT-section-topHeader" style="font-size:14pt;font-weight:bold;">{!patient.name} - PEC selected plan: <span style="color:#0000ff;">{!pot_treatment_plan_name}</span></apex:outputpanel>
        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-subject-container">
          <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-header">
            <apex:repeat var="tab" value="{!doctor_tab_list}">
              <apex:outputpanel layout="block" styleclass="{!if(selected_pot_tab==tab,'cc-clinical-addPOT-section-header-cell-selected','cc-clinical-addPOT-section-header-cell')}" onclick="change_pot_tab('{!tab}');">{!tab}</apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
        </apex:outputpanel>

        <!--Blank Template Holder---->
        <apex:outputpanel layout="block" style="width:100%;padding-top:20px;height:100%;" rendered="{!if(selected_pot_tab=='Blank Template',true,false)}">
          <span class="form-line" style="padding-right:30px;">
            Plan Name :&nbsp; <apex:inputtext value="{!new_pot_name}" styleclass="input_standard" onfocus="if(this.value=='Enter Plan Name') {this.value='';}" /><span class="spacer">&nbsp;</span>
            <apex:commandLink action="{!create_blank_pot}" reRender="calendar_nav,main_holder" value="Save" styleclass="lblue" status="ajaxstatus" />
          </span>
        </apex:outputpanel>
        <!--end blank Template Holder-->

        <!--POT Search Holder---->
        <apex:outputpanel layout="block" style="width:100%;height:100%;" rendered="{!if(selected_pot_tab=='Blank Template',false,true)}">
          <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-container" style="height:80%;">
            <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-list-container_na" style="padding-top:15px;overflow-y:auto;width:240px;">
              <apex:input value="{!pot_search}" onfocus="if(this.value=='Quick Search') {this.value='';}" styleclass="input_standard" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="pot_qsearch_key();"/><br /><br />
              <!--Upper Arch Selection-->
              <span class="dropdown drop-hover">Upper Arch :<br />&nbsp;&nbsp;
                <a class="dropdown-toggle nav_color " data-toggle="dropdown"><apex:outputtext value="{!upper_arch}"  style="padding-right:5px;" styleClass="c-pointer"  /><span class="caret"></span></a>
                <ul class="dropdown-menu overflow-menu" style="margin-top:0px;" >
                  <apex:repeat var="arch_type" value="{!upper_arch_options}">
                    <li style="margin-top:0px;margin-bottom:0px;padidng-top:0px;padding-bottom:0px;" class="dropdown-lineitem"><a href="javascript:upper_switch('{!arch_type}');" style="color:#189BEB"><apex:outputtext value="{!arch_type}" /></a></li>
                  </apex:repeat>
                </ul>
             </span><br />
             <!--Lower Arch Selection-->
             <span class="dropdown drop-hover">Lower Arch :<br />&nbsp;&nbsp;
                <a class="dropdown-toggle nav_color " data-toggle="dropdown"><apex:outputtext value="{!lower_arch}"  style="padding-right:5px;" styleClass="c-pointer"  /><span class="caret"></span></a>
                <ul class="dropdown-menu overflow-menu" style="margin-top:0px;" >
                  <apex:repeat var="arch_type" value="{!lower_arch_options}">
                    <li style="margin-top:0px;margin-bottom:0px;padidng-top:0px;padding-bottom:0px;" class="dropdown-lineitem"><a href="javascript:lower_switch('{!arch_type}');" style="color:#189BEB"><apex:outputtext value="{!arch_type}" /></a></li>
                  </apex:repeat>
                </ul>
             </span>
            </apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-clincial-addPOT-tp-container" style="margin-top:0;margin-left:15px;">
              <apex:outputpanel layout="block" styleclass="cc-clincial-addPOT-tp-container-list-container">
                <apex:outputpanel layout="block" styleclass="cc-clincial-addPOT-tp-container-list-section" style="overflow-y:auto;">
<!--                  <div class="cc-clincial-addPOT-tp-container-list-header">Upper and Lower</div>-->
                  <apex:outputpanel layout="block" style="padding-top:10px;">
                    <apex:repeat var="pot" value="{!search_treatment_plans}">
                      <span class="c-pointer hover-blue" onclick="select_plan('{!pot.id}');" style="display:inline-block;height:30px;font-size:13pt;font-weight:400;">{!pot.name}</span><br />
                    </apex:repeat>
<!--                    <ul>
                      <li tp-uid="Upper and Lower AO4 - Dr. Adams">Upper and Lower AO4</li>
                    </ul>-->
                  </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
        </apex:outputpanel>
        <!--end POT Search Holder-->
      </apex:outputpanel> <!--End POT Selection Holder-->
      
      <!--START POT Name Change Holder-->
      <apex:outputpanel layout="block" rendered="{!if(new_pot_display=='name_change',true,false)}" style="width:100%;height:100%;">
        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-topHeader">Plan Of Treatment Templates</apex:outputpanel>
        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-topHeader" style="font-size:14pt;font-weight:bold;">{!patient.name} - PEC selected plan: <span style="color:#0000ff;">{!pot_treatment_plan_name}</span></apex:outputpanel>
        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-subject-container">
          <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-header">
            <apex:repeat var="tab" value="{!doctor_tab_list}">
              <apex:outputpanel layout="block" styleclass="{!if(selected_pot_tab==tab,'cc-clinical-addPOT-section-header-cell-selected','cc-clinical-addPOT-section-header-cell')}" onclick="change_pot_tab('{!tab}');">{!tab}</apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
        </apex:outputpanel>        

        <!--POT Search Holder---->
        <apex:outputpanel layout="block" style="width:100%;height:100%;" rendered="{!if(selected_pot_tab=='Blank Template',false,true)}">
          <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-container" style="height:80%;">
            <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-list-container_na" style="padding-top:15px;overflow-y:auto;width:240px;">
              <apex:input value="{!pot_search}" onfocus="if(this.value=='Quick Search') {this.value='';}" styleclass="input_standard" onkeydown="if(event.keyCode==13){this.blur();}" onkeyup="pot_qsearch_key();"/><br /><br />
              <!--Upper Arch Selection-->
              <span class="dropdown drop-hover">Upper Arch :<br />&nbsp;&nbsp;
                <a class="dropdown-toggle nav_color " data-toggle="dropdown"><apex:outputtext value="{!upper_arch}"  style="padding-right:5px;" styleClass="c-pointer"  /><span class="caret"></span></a>
                <ul class="dropdown-menu overflow-menu" style="margin-top:0px;" >
                  <apex:repeat var="arch_type" value="{!upper_arch_options}">
                    <li style="margin-top:0px;margin-bottom:0px;padidng-top:0px;padding-bottom:0px;" class="dropdown-lineitem"><a href="javascript:upper_switch('{!arch_type}');" style="color:#189BEB"><apex:outputtext value="{!arch_type}" /></a></li>
                  </apex:repeat>
                </ul>
             </span><br />
             <!--Lower Arch Selection-->
             <span class="dropdown drop-hover">Lower Arch :<br />&nbsp;&nbsp;
                <a class="dropdown-toggle nav_color " data-toggle="dropdown"><apex:outputtext value="{!lower_arch}"  style="padding-right:5px;" styleClass="c-pointer"  /><span class="caret"></span></a>
                <ul class="dropdown-menu overflow-menu" style="margin-top:0px;" >
                  <apex:repeat var="arch_type" value="{!lower_arch_options}">
                    <li style="margin-top:0px;margin-bottom:0px;padidng-top:0px;padding-bottom:0px;" class="dropdown-lineitem"><a href="javascript:lower_switch('{!arch_type}');" style="color:#189BEB"><apex:outputtext value="{!arch_type}" /></a></li>
                  </apex:repeat>
                </ul>
             </span>
            </apex:outputpanel>
            <apex:outputpanel layout="block" styleclass="cc-clincial-addPOT-tp-container" style="margin-top:0;margin-left:15px;">
              <apex:outputpanel layout="block" styleclass="cc-clincial-addPOT-tp-container-list-container">
                <apex:outputpanel layout="block" styleclass="cc-clincial-addPOT-tp-container-list-section" style="overflow-y:auto;">
<!--                  <div class="cc-clincial-addPOT-tp-container-list-header">Upper and Lower</div>-->
                  <apex:outputpanel layout="block" style="padding-top:10px;">
                    <apex:repeat var="pot" value="{!search_treatment_plans}">
                      <span class="c-pointer hover-blue" onclick="select_plan_name('{!pot.id}');" style="display:inline-block;height:30px;font-size:13pt;font-weight:400;">{!pot.name}</span><br />
                    </apex:repeat>
<!--                    <ul>
                      <li tp-uid="Upper and Lower AO4 - Dr. Adams">Upper and Lower AO4</li>
                    </ul>-->
                  </apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:outputpanel>
          </apex:outputpanel>
        </apex:outputpanel>
        <!--end POT Search Holder-->
      </apex:outputpanel> <!--End POT Selection Holder-->

    </apex:outputpanel>
  </apex:outputpanel>
  </apex:outputpanel>
  <!---END New POT Modal-->

  <!--Start Apt History Modal--->
  <apex:outputpanel layout="block" rendered="{!display_history_modal}">
    <apex:outputpanel layout="block" styleclass="cc-clinical-scheduleHistory-wrapper" style="z-index: 10100; opacity: 1;">
      <apex:outputpanel layout="block" styleclass="cc-clinical-scheduleHistory-container" style="box-shadow: rgba(0, 0, 0, 0.74902) 0px 0px 70px -15px;">
        <apex:outputpanel layout="block" styleclass="cc-clinical-scheduleHistory-close" onclick="close_history();">
          <apex:outputpanel layout="block">
            <i class="ccf-cancel-thin cc-color-font-black cc-cursor-hover"></i>
          </apex:outputpanel>
        </apex:outputpanel>

        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-topHeader">
          {!patient.name} scheduling history for {!apt_history_name}
        </apex:outputpanel>

        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-container">
          <apex:outputpanel layout="block" styleclass="cc-clincial-addPOT-tp-container">
            <apex:outputpanel layout="block" styleclass="cc-clincial-scheduleHistory-list-container">
              <!--drop table here-->
              <table class="bend_table">
                <tr class="bend_header">
                  <th><span class="gray_under">Date</span></th>
                  <th><span class="gray_under">By</span></th>
                  <th><span class="gray_under">Action</span></th>
                  <th><span class="gray_under">Reason</span></th>
                  <th><span class="gray_under">Notes</span></th>
                </tr>
              <apex:variable var="rowclassname" value="odd" />
              <apex:repeat var="hist" value="{!apt_history_list}">
                <tr class="{!rowclassname}">
                <apex:variable var="rowclassname" value="{!if(rowclassname=='odd','even','odd')}" />
                  <td><!--<apex:outputText value="{0,date,M'/'dd'/'yyyy}">
                      <apex:param value="{!hist.createddate}"/>
                    </apex:outputText>-->
                    <apex:outputfield value="{!hist.createddate}" />
                  </td>
                  <td><apex:outputtext value="{!hist.createdby.name}" /></td>
                  <td><apex:outputfield value="{!hist.Action__c}" /></td>
                  <td><apex:outputfield value="{!hist.Action_Reason__c}" /></td>
                  <td><apex:outputfield value="{!hist.Notes__c}" /></td>
                </tr>
              </apex:repeat>
            </table>
            </apex:outputpanel>
          </apex:outputpanel>
        </apex:outputpanel>
      </apex:outputpanel>
    </apex:outputpanel>
  </apex:outputpanel>
  <!---End Apt History Modal--->

  <!---START SRX Review Modal------->
  <apex:outputpanel layout="block" rendered="{!srx_review_display}">
  <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-wrapper" style="z-index: 10100; opacity: 1;">
    <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-container" style="box-shadow: rgba(0, 0, 0, 0.74902) 0px 0px 70px -15px;">
      The following Surgical Rx for {!patient.name} has been saved to the database<br /><br />

      <apex:outputpanel layout="block" styleclass="cc-perio-form-row-template" style="overflow:auto;">
        <div class="cc-form-container" style="border: 2px solid rgb(153, 153, 153); display: flex;">
            <!-- start header and form buttons -->
            <apex:outputpanel layout="block" styleclass="cc-form-header-container">
              <apex:outputpanel layout="block" styleclass="cc-form-header" style="width:50%;">Surgical Rx </apex:outputpanel>
              <div class="center_header" style="flex-grow: 2;text-align: right;  ">
                {!new_surgical_rx.center_information__r.legal_name__c}<br />
                <apex:outputtext value="{!center_address_line}" escape="false" />
              </div>
            </apex:outputpanel>
            <!-- end header and form buttons -->
            <!-- start form section container -->
            <apex:outputpanel layout="block" styleclass="cc-form-content-container">
              <!-- start columnContainer -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                <!-- start left column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Patient Name:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputtext value="{!patient.name}" styleclass="cc-patientProfile-input" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">DOB:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                          <apex:param value="{!patient.Date_of_Birth__c}" />
                        </apex:outputText>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Age:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputfield value="{!patient.Age__c}" styleclass="cc-patientProfile-input" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end left column -->

                <!-- start right column -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Date:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                          <apex:param value="{!new_surgical_rx.createddate}" />
                        </apex:outputText>
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">To:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
						<apex:outputField value="{!new_surgical_rx.Dr_to__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">From:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
						<apex:outputField value="{!new_surgical_rx.DR_for__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                  <!-- start input row -->
                  <apex:outputpanel layout="block" styleclass="cc-perio-row">
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">Re:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
						<apex:outputField value="{!new_surgical_rx.Reason__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                  </apex:outputpanel>
                  <!-- end input row -->
                </apex:outputpanel>
                <!-- end right column -->
              </apex:outputpanel>
              <!-- end columnContainer -->
            </apex:outputpanel>
            <!-- end form section container -->

              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header ">Caution</apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" style="width:100%;">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-font-bold cc-form-input-label-markSelected" >Drug allergies:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                        {!patient_allergy_info}
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                  <!--
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">

                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">ASA:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="asa_button_1" class="cc-form-notation-button{!if(new_surgical_rx.asa__c=='1','-selected','')}" onclick="toggle_surgical_rx_text('asa__c','{!if(new_surgical_rx.asa__c=='1','','1')}');reset_asa_buttons();toggle_form_button(this);">I</div>
                        <div id="asa_button_2" class="cc-form-notation-button{!if(new_surgical_rx.asa__c=='2','-selected','')}" onclick="toggle_surgical_rx_text('asa__c','{!if(new_surgical_rx.asa__c=='2','','2')}');reset_asa_buttons();toggle_form_button(this);">II</div>
                        <div id="asa_button_3" class="cc-form-notation-button{!if(new_surgical_rx.asa__c=='3','-selected','')}" onclick="toggle_surgical_rx_text('asa__c','{!if(new_surgical_rx.asa__c=='3','','3')}');reset_asa_buttons();toggle_form_button(this);">III</div>
                      </apex:outputpanel>
                    </apex:outputpanel>

                  </apex:outputpanel>
                  <!-- end right container -->
                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->

              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header {!if(new_surgical_rx.Include_Upper_Arch__c,'','no-print')}">
                  <apex:inputfield value="{!new_surgical_rx.Include_Upper_Arch__c}" onchange="toggle_surgical_include('include_upper_arch__c');" /> &nbsp;Upper Arch Replacement
                </apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer" rendered="{!new_surgical_rx.Include_Upper_Arch__c}">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Max Ant. Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Max_max_ant_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Max L Post Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Max_max_left_post_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Max R Post Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.MAX_max_right_post_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">System:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="max_system_1" class="cc-form-notation-button{!if(new_surgical_rx.max_implant_system__c=='Straumann','-selected','')}" onclick="toggle_surgical_rx_text('max_implant_system__c','{!if(new_surgical_rx.max_implant_system__c=='Straumann','','Straumann')}');reset_form_buttons(['max_system_2','max_system_3','max_system_4']);toggle_form_button(this);">Straumann</div>
                        <div id="max_system_2" class="cc-form-notation-button{!if(new_surgical_rx.max_implant_system__c=='Neodent','-selected','')}" onclick="toggle_surgical_rx_text('max_implant_system__c','{!if(new_surgical_rx.max_implant_system__c=='Neodent','','Neodent')}');reset_form_buttons(['max_system_1','max_system_3','max_system_4']);toggle_form_button(this);">Neodent</div>
                        <div id="max_system_3" class="cc-form-notation-button{!if(new_surgical_rx.max_implant_system__c=='Nobel Biocare','-selected','')}" onclick="toggle_surgical_rx_text('max_implant_system__c','{!if(new_surgical_rx.max_implant_system__c=='Nobel Biocare','','Nobel Biocare')}');reset_form_buttons(['max_system_1','max_system_2','max_system_4']);toggle_form_button(this);">Nobel Biocare</div>
                        <div id="max_system_4" class="cc-form-notation-button{!if(new_surgical_rx.max_implant_system__c=='Other','-selected','')}" onclick="toggle_surgical_rx_text('max_implant_system__c','{!if(new_surgical_rx.max_implant_system__c=='Other','','Other')}');reset_form_buttons(['max_system_1','max_system_2','max_system_3']);toggle_form_button(this);">Other</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(new_surgical_rx.Max_Implant_System__c=='Other',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">System Other:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Max_Implant_System_Other__c}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(new_surgical_rx.Max_Implant_System__c=='',false,true)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
						<apex:outputField value="{!new_surgical_rx.Max_Implant_teeth__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                  <!-- start right container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="max_graft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.max_grafting__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('max_grafting__c','{!if(new_surgical_rx.max_grafting__c=='Yes','','Yes')}');reset_form_buttons(['max_graft_2']);toggle_form_button(this);">Yes</div>
                        <div id="max_graft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.max_grafting__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('max_grafting__c','{!if(new_surgical_rx.max_grafting__c=='No','','No')}');reset_form_buttons(['max_graft_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print" rendered="{!if(new_surgical_rx.Max_Grafting__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Grafting Notes:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputfield value="{!new_surgical_rx.Max_Grafting_Note__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Sinus Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="ua_sgraft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_arch_sinus_grafting__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('upper_arch_sinus_grafting__c','{!if(new_surgical_rx.upper_arch_sinus_grafting__c=='Yes','','Yes')}');reset_form_buttons(['ua_sgraft_2']);toggle_form_button(this);">Yes</div>
                        <div id="ua_sgraft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_arch_sinus_grafting__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('upper_arch_sinus_grafting__c','{!if(new_surgical_rx.upper_arch_sinus_grafting__c=='No','','No')}');reset_form_buttons(['ua_sgraft_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Sinus Grafting Location:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputpanel layout="block" styleclass="universal-toggle cc-form-notation-button{!if(new_surgical_rx.Upper_Arch_Sinus_Grafting_Left__c,'-selected','')}" onclick="toggle_surgical_rx_boolean('upper_arch_sinus_grafting_left__c');toggle_form_button(this);">Left</apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="universal-toggle cc-form-notation-button{!if(new_surgical_rx.Upper_Arch_Sinus_Grafting_Right__c,'-selected','')}" onclick="toggle_surgical_rx_boolean('upper_arch_sinus_grafting_right__c');toggle_form_button(this);">Right</apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Load:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="uiload_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_immediate_load__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('upper_immediate_load__c','{!if(new_surgical_rx.upper_immediate_load__c=='Yes','','Yes')}');reset_form_buttons(['uiload_2']);toggle_form_button(this);">Yes</div>
                        <div id="uiload_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_immediate_load__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('upper_immediate_load__c','{!if(new_surgical_rx.upper_immediate_load__c=='No','','No')}');reset_form_buttons(['uiload_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Placement:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="uiplace_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_immediate_placement__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('upper_immediate_placement__c','{!if(new_surgical_rx.upper_immediate_placement__c=='Yes','','Yes')}');reset_form_buttons(['uiplace_2']);toggle_form_button(this);">Yes</div>
                        <div id="uiplace_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.upper_immediate_placement__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('upper_immediate_placement__c','{!if(new_surgical_rx.upper_immediate_placement__c=='No','','No')}');reset_form_buttons(['uiplace_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print" rendered="{!if(new_surgical_rx.Upper_Immediate_Placement__c=='Yes' || new_surgical_rx.Upper_Immediate_Load__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                        <apex:outputfield value="{!new_surgical_rx.Upper_Immediate_Notes__c}"  style="width:100%;"/>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->

                  </apex:outputpanel>
                  <!-- end right container -->
                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->
              <apex:outputpanel layout="block" styleclass="cc-pageBreak">&nbsp;</apex:outputpanel>

              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header {!if(new_surgical_rx.Include_Lower_Arch__c,'','no-print')}">
                  <apex:inputfield value="{!new_surgical_rx.Include_Lower_Arch__c}" onchange="toggle_surgical_include('include_lower_arch__c');" /> &nbsp;Lower Arch Replacement
                </apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer" rendered="{!new_surgical_rx.Include_Lower_Arch__c}">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Mand Ant. Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Man_max_ant_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">  </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">  </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Mand L Post Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Man_max_left_post_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Mand R Post Bone Reduction:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container mm">
                        <apex:inputfield value="{!new_surgical_rx.Man_max_right_post_bone_reduction__c}" styleclass="cc-patientProfile-input-mm cc-form-input-markSelected" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder">      </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off">      </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <!-- <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-form-input-label-markSelected cc-perio-prosth-label">Implants:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Man_implant_teeth__c}" styleclass="cc-patientProfile-input cc-form-input-markSelected"  />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>-->
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">System:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="man_system_1" class="cc-form-notation-button{!if(new_surgical_rx.man_implant_system__c=='Straumann','-selected','')}" onclick="toggle_surgical_rx_text('man_implant_system__c','{!if(new_surgical_rx.man_implant_system__c=='Straumann','','Straumann')}');reset_form_buttons(['man_system_2','man_system_3','man_system_4']);toggle_form_button(this);">Straumann</div>
                        <div id="man_system_2" class="cc-form-notation-button{!if(new_surgical_rx.man_implant_system__c=='Neodent','-selected','')}" onclick="toggle_surgical_rx_text('man_implant_system__c','{!if(new_surgical_rx.man_implant_system__c=='Neodent','','Neodent')}');reset_form_buttons(['man_system_1','man_system_3','man_system_4']);toggle_form_button(this);">Neodent</div>
                        <div id="man_system_3" class="cc-form-notation-button{!if(new_surgical_rx.man_implant_system__c=='Nobel Biocare','-selected','')}" onclick="toggle_surgical_rx_text('man_implant_system__c','{!if(new_surgical_rx.man_implant_system__c=='Nobel Biocare','','Nobel Biocare')}');reset_form_buttons(['man_system_1','man_system_2','man_system_4']);toggle_form_button(this);">Nobel Biocare</div>
                        <div id="man_system_4" class="cc-form-notation-button{!if(new_surgical_rx.man_implant_system__c=='Other','-selected','')}" onclick="toggle_surgical_rx_text('man_implant_system__c','{!if(new_surgical_rx.man_implant_system__c=='Other','','Other')}');reset_form_buttons(['man_system_1','man_system_2','man_system_3']);toggle_form_button(this);">Other</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(new_surgical_rx.Man_implant_system__c=='Other',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">System Other:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.Man_Implant_System_Other__c}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(new_surgical_rx.Man_implant_system__c=='',false,true)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
						<apex:outputField value="{!new_surgical_rx.Man_implant_teeth__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                  <!-- start right container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="mand_graft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.mand_grafting__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('mand_grafting__c','{!if(new_surgical_rx.mand_grafting__c=='Yes','','Yes')}');reset_form_buttons(['mand_graft_2']);toggle_form_button(this);">Yes</div>
                        <div id="mand_graft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.mand_grafting__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('mand_grafting__c','{!if(new_surgical_rx.mand_grafting__c=='No','','No')}');reset_form_buttons(['mand_graft_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print" rendered="{!if(new_surgical_rx.Mand_grafting__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Grafting Notes:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container" style="width:100%;">
                        <apex:outputfield value="{!new_surgical_rx.Mand_Grafting_note__c}"  style="width:100%;"/>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Load:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="liload_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.lower_immediate_load__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('lower_immediate_load__c','{!if(new_surgical_rx.lower_immediate_load__c=='Yes','','Yes')}');reset_form_buttons(['liload_2']);toggle_form_button(this);">Yes</div>
                        <div id="liload_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.lower_immediate_load__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('lower_immediate_load__c','{!if(new_surgical_rx.lower_immediate_load__c=='No','','No')}');reset_form_buttons(['liload_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Placement:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="liplace_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.lower_immediate_placement__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('lower_immediate_placement__c','{!if(new_surgical_rx.lower_immediate_placement__c=='Yes','','Yes')}');reset_form_buttons(['liplace_2']);toggle_form_button(this);">Yes</div>
                        <div id="liplace_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.lower_immediate_placement__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('lower_immediate_placement__c','{!if(new_surgical_rx.lower_immediate_placement__c=='No','','No')}');reset_form_buttons(['liplace_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print" rendered="{!if(new_surgical_rx.Lower_Immediate_Placement__c=='Yes' || new_surgical_rx.Lower_Immediate_Load__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputField value="{!new_surgical_rx.Lower_Immediate_Load_Notes__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end right container -->
                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->

              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header ">Extractions</apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left" style="width:80%;">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-form-input-label-markSelected cc-perio-prosth-label">Extract :</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <i class="ccf-tooth cc-cursor-hover cc-color-font-hover-blue " onclick="ovar_tooth_modal('surgical','Extraction_teeth__c','Extraction Teeth');"></i>
                        <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothSelected-numbers">
                          {!new_surgical_rx.Extraction_teeth__c}
                        </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Extraction Notes:</apex:outputpanel>
					  <apex:outputPanel layout="block" styleClass="cc-patientProfile-input-container">
						  <apex:outputField value="{!new_surgical_rx.Extraction_Notes__c}" />
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->
              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header {!if(new_surgical_rx.Include_SM__c,'','no-print')}">
                  <apex:inputfield value="{!new_surgical_rx.Include_SM__c}" onchange="toggle_surgical_include('include_sm__c');" /> &nbsp;Single/Multiple Implants
                </apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer" rendered="{!new_surgical_rx.Include_SM__c}">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-form-input-label-markSelected cc-perio-prosth-label">Implant Placement:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <i class="ccf-tooth cc-cursor-hover cc-color-font-hover-blue " onclick="ovar_tooth_modal('surgical','Implant_Placement__c','Implant Placement');"></i>
                        <apex:outputpanel layout="block" styleclass="cc-patient-schedule-row-toothSelected-numbers">
                          {!new_surgical_rx.Implant_Placement__c}
                        </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row cc-form-oneButtonOnly cc-flexWrap">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label">System:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="sm_system_1" class="cc-form-notation-button{!if(new_surgical_rx.sm_implant_system__c=='Straumann','-selected','')}" onclick="toggle_surgical_rx_text('sm_implant_system__c','{!if(new_surgical_rx.sm_implant_system__c=='Straumann','','Straumann')}');reset_form_buttons(['sm_system_2','sm_system_3','sm_system_4']);toggle_form_button(this);">Straumann</div>
                        <div id="sm_system_2" class="cc-form-notation-button{!if(new_surgical_rx.sm_implant_system__c=='Neodent','-selected','')}" onclick="toggle_surgical_rx_text('sm_implant_system__c','{!if(new_surgical_rx.sm_implant_system__c=='Neodent','','Neodent')}');reset_form_buttons(['sm_system_1','sm_system_3','sm_system_4']);toggle_form_button(this);">Neodent</div>
                        <div id="sm_system_3" class="cc-form-notation-button{!if(new_surgical_rx.sm_implant_system__c=='Nobel Biocare','-selected','')}" onclick="toggle_surgical_rx_text('sm_implant_system__c','{!if(new_surgical_rx.sm_implant_system__c=='Nobel Biocare','','Nobel Biocare')}');reset_form_buttons(['sm_system_1','sm_system_2','sm_system_4']);toggle_form_button(this);">Nobel Biocare</div>
                        <div id="sm_system_4" class="cc-form-notation-button{!if(new_surgical_rx.sm_implant_system__c=='Other','-selected','')}" onclick="toggle_surgical_rx_text('sm_implant_system__c','{!if(new_surgical_rx.sm_implant_system__c=='Other','','Other')}');reset_form_buttons(['sm_system_1','sm_system_2','sm_system_3']);toggle_form_button(this);">Other</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(new_surgical_rx.SM_Implant_System__c=='Other',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">System Other:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:inputfield value="{!new_surgical_rx.SM_Implant_System_Other__c}" styleclass="cc-patientProfile-input" />
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder"> </apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="cc-inputBottomBorder-off"> </apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row" rendered="{!if(new_surgical_rx.SM_Implant_System__c=='',false,true)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Implant Type:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
					  <apex:outputField value="{!new_surgical_rx.SM_Implant_System_Type__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end left container -->

                  <!-- start right container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-right">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="sm_graft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.single_multi_grafting__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('single_multi_grafting__c','{!if(new_surgical_rx.single_multi_grafting__c=='Yes','','Yes')}');reset_form_buttons(['sm_graft_2']);toggle_form_button(this);">Yes</div>
                        <div id="sm_graft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.single_multi_grafting__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('single_multi_grafting__c','{!if(new_surgical_rx.single_multi_grafting__c=='No','','No')}');reset_form_buttons(['sm_graft_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print" rendered="{!if(new_surgical_rx.Single_Multi_Grafting__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected" style="min-width:150px;">Grafting Notes:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputField value="{!new_surgical_rx.Single_Multi_Grafting_Note__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Sinus Grafting:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="sm_sgraft_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_sinus_grafting__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('sm_sinus_grafting__c','{!if(new_surgical_rx.sm_sinus_grafting__c=='Yes','','Yes')}');reset_form_buttons(['sm_sgraft_2']);toggle_form_button(this);">Yes</div>
                        <div id="sm_sgraft_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_sinus_grafting__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('sm_sinus_grafting__c','{!if(new_surgical_rx.sm_sinus_grafting__c=='No','','No')}');reset_form_buttons(['sm_sgraft_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Sinus Grafting Location:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputpanel layout="block" styleclass="universal-toggle cc-form-notation-button{!if(new_surgical_rx.SM_Sinus_Grafting_Left__c,'-selected','')}" onclick="toggle_surgical_rx_boolean('sm_sinus_grafting_left__c');toggle_form_button(this);">Left</apex:outputpanel>
                        <apex:outputpanel layout="block" styleclass="universal-toggle cc-form-notation-button{!if(new_surgical_rx.SM_Sinus_Grafting_Right__c,'-selected','')}" onclick="toggle_surgical_rx_boolean('sm_sinus_grafting_right__c');toggle_form_button(this);">Right</apex:outputpanel>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Load:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="smload_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_immediate_load__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('sm_immediate_load__c','{!if(new_surgical_rx.sm_immediate_load__c=='Yes','','Yes')}');reset_form_buttons(['smload_2']);toggle_form_button(this);">Yes</div>
                        <div id="smload_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_immediate_load__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('sm_immediate_load__c','{!if(new_surgical_rx.sm_immediate_load__c=='No','','No')}');reset_form_buttons(['smload_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected toggle-buttons">Immediate Placement:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <div id="smplace_1" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_immediate_placement__c=='Yes','-selected','')}" onclick="toggle_surgical_rx_text('sm_immediate_placement__c','{!if(new_surgical_rx.sm_immediate_placement__c=='Yes','','Yes')}');reset_form_buttons(['smplace_2']);toggle_form_button(this);">Yes</div>
                        <div id="smplace_2" class="universal-toggle cc-form-notation-button{!if(new_surgical_rx.sm_immediate_placement__c=='No','-selected','')}" onclick="toggle_surgical_rx_text('sm_immediate_placement__c','{!if(new_surgical_rx.sm_immediate_placement__c=='No','','No')}');reset_form_buttons(['smplace_1']);toggle_form_button(this);">No</div>
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print" rendered="{!if(new_surgical_rx.SM_Immediate_Placement__c=='Yes' || new_surgical_rx.SM_Immediate_Load__c=='Yes',true,false)}">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Immediate Notes:</apex:outputpanel>
                      <apex:outputpanel layout="block" styleclass="cc-patientProfile-input-container">
                        <apex:outputField value="{!new_surgical_rx.SM_Immediate_Load_Notes__c}" />
                      </apex:outputpanel>
                    </apex:outputpanel>
                    <!-- end row -->
                  </apex:outputpanel>
                  <!-- end right container -->

                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->
              <!-- start form section container -->
              <apex:outputpanel layout="block" styleclass="cc-form-content-container">
                <!-- start header-->
                <apex:outputpanel layout="block" styleclass="cc-form-row-header ">Misc</apex:outputpanel>
                <!-- end header -->
                <!-- start columnContainer -->
                <apex:outputpanel layout="block" styleclass="cc-form-content-columnContainer">
                  <!-- start left container -->
                  <apex:outputpanel layout="block" styleclass="cc-form-content-container-left" style="width:95%;">
                    <!-- start row -->
                    <apex:outputpanel layout="block" styleclass="cc-perio-prosth-row no-print">
                      <apex:outputpanel layout="block" styleclass="cc-perio-prosth-label cc-form-input-label-markSelected">Notes:</apex:outputpanel>
					  <apex:outputPanel layout="block" styleClass="cc-patientProfile-input-container">
					  	<apex:outputField value="{!new_surgical_rx.Comments__c}" />
					  </apex:outputPanel>
                    </apex:outputpanel>
                    <!-- end row -->
                    <!-- start row -->
			        <div class="cc-perio-prosth-row">
			          <div class="cc-perio-prosth-label cc-form-input-label">&nbsp;</div>
			          <div class="cc-patientProfile-input-container">
  			            <apex:outputpanel layout="block" styleclass="cc-form-notation-button no-print" rendered="{!if(new_surgical_rx.Reviewed_By__c=='' && is_user_doctor,true,false)}" onclick="doctor_review_surgical_rx();">Doctor Reviewed</apex:outputpanel>
  			            <apex:outputpanel layout="block" rendered="{!if(new_surgical_rx.Reviewed_By__c=='',false,true)}" style="font-style:italic;">
  			              Reviewed By - {!new_surgical_rx.reviewed_by__r.name} &nbsp;(<apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                            <apex:param value="{!new_surgical_rx.Review_Time__c}" />
                          </apex:outputText>)
  			            </apex:outputpanel>
			          </div>
			        </div>
			        <!-- end row -->
					<!-- start row -->
			        <div class="cc-perio-prosth-row" style="padding-top:2em;">
			          <div class="signature-block print-only">
  			            <div class="signature-label">Doctor</div><div class="write-line signature"></div>
  			            <div class="signature-label">Date</div><div class="write-line date">
						</div>
			          </div>
			        </div>
			        <!-- end row -->

                </apex:outputpanel>
                <!-- end columnContainer -->
              </apex:outputpanel>
              <!-- end form section container -->
            </apex:outputpanel>
          </div>
        <apex:outputpanel layout="block" style="display:flex;width:100%;justify-content:flex-end;align-items:flex-start;">
          <div class="cc-form-confirmTrash-button cc-form-confirmTrash-button-cancel" onclick="srx_review_edit();">Edit</div>
          <div class="cc-form-confirmTrash-button cc-form-confirmReset-button-confirm" onclick="srx_review_confirmation();">Confirm</div>
        </apex:outputpanel>
      </apex:outputpanel>

    </apex:outputpanel>
  </apex:outputpanel>
  </apex:outputpanel>
  <!--End SRx Review Modal------------------>

  <!---START Removal Confirmation Modal------->
  <apex:outputpanel layout="block" rendered="{!confirmation_modal_display}">
  <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-wrapper" style="z-index: 10100; opacity: 1;">
    <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-container" style="box-shadow: rgba(0, 0, 0, 0.74902) 0px 0px 70px -15px;">
      <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-close">
        <div id="cc-patient-patient-search-close-button" onclick="cconfirmation_modal();">
          <i class="ccf-cancel-thin cc-color-font-black cc-cursor-hover"></i>
        </div>
      </apex:outputpanel>
      <apex:outputpanel layout="block" styleclass="cc-patient-patient-search-info" style="width: 100%; text-align: center; padding-top: 10px;">
        <apex:outputtext value="{!modal_out}" escape="false" /><br /><br /><br />

        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='appointment',true,false)}" >
          <span class="confirm-btn" onclick="delete_apt();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='pot',true,false)}" >
          <span class="confirm-btn" onclick="delete_pot();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='procedure',true,false)}" >
          <span class="confirm-btn" onclick="delete_procedure();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='med_clearance',true,false)}" >
          <span class="confirm-btn" onclick="delete_med_clearance();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='lab_rx',true,false)}" >
          <span class="confirm-btn" onclick="delete_labrx();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='surgical_rx',true,false)}" >
          <span class="confirm-btn" onclick="delete_surgicalrx();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='confirm_navigate',true,false)}" >
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span><span class="spacer">&nbsp;</span>
          <span class="confirm-btn" onclick="confirm_nav_to('{!confirmation_id}');">Leave Page</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='confirm_srx_close',true,false)}" >
          <span class="confirm-btn" onclick="conf_csurgical_form();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='confirm_lrx_close',true,false)}" >
          <span class="confirm-btn" onclick="conf_clab_form();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='confirm_mc_close',true,false)}" >
          <span class="confirm-btn" onclick="conf_cclearance_form();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='lrx_attachment',true,false)}" >
          <span class="confirm-btn" onclick="conf_lrx_file_delete();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='mc_attachment',true,false)}" >
          <span class="confirm-btn" onclick="conf_mc_file_delete();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='sx_attachment',true,false)}" >
          <span class="confirm-btn" onclick="conf_sx_file_delete();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cconfirmation_modal();">Cancel</span>
        </apex:outputpanel>
        <apex:outputpanel layout="block" rendered="{!if(confirmation_modal_type=='pot_name',true,false)}" >
          <span class="confirm-btn" onclick="save_name_change();">Confirm</span><span class="spacer">&nbsp;</span>
          <span class="cancel-btn" onclick="cancel_name_change();">Cancel</span>
        </apex:outputpanel>
      </apex:outputpanel>
    </apex:outputpanel>
  </apex:outputpanel>
  </apex:outputpanel>
  <!--End Confirmation Modal------------------>

  <!---START Tooth Selection Modal------->
  <apex:outputpanel layout="block" rendered="{!display_tooth_modal}">
  <apex:outputpanel layout="block"  styleclass="cc-clinical-addPOT-wrapper" style="z-index: 10100; opacity: 1;" id="tooth_holder">
    <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-container" style="box-shadow: rgba(0, 0, 0, 0.74902) 0px 0px 70px -15px;">
    <apex:messages style="display:inline;" />
      <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-close">
        <apex:outputpanel layout="block" onclick="ctooth_modal();">
          <i class="ccf-cancel-thin cc-color-font-black cc-cursor-hover"></i>
        </apex:outputpanel>
      </apex:outputpanel>

      <!--START POT Selection Holder-->
      <apex:outputpanel layout="block" style="width:100%;">
        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-topHeader">{!tooth_chart_procedure_name} - {!current_tooth_selections}</apex:outputpanel>

        <!--POT Search Holder---->
        <apex:outputpanel layout="block" style="width:100%;">
          <apex:outputpanel layout="block" styleclass="cc-perio-teeth-row-container-upper">
            <apex:repeat var="tooth" value="{!upper_tooth_chart}">
              <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-container {!if(tooth.tooth_selected,'cc-perio-selected','')}" onclick="toggle_tooth('{!tooth.tooth_num}');" >
                <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-tooth">
                  <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-img-container">
                    <img class="cc-perio-thumbToothImg-upper" src="{!URLFOR($Resource.Dental_Practice_Resources, tooth.t_image)}" />
                  </apex:outputpanel>
                </apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-number-upper">
                  <apex:outputpanel layout="block" styleclass="{!tooth.tooth_label_css}">{!tooth.tooth_num}</apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-perio-row-divider">
            <apex:outputpanel layout="block">&nbsp;</apex:outputpanel>
          </apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-perio-teeth-row-container-lower">
            <apex:repeat var="tooth" value="{!lower_tooth_chart}">
              <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-container {!if(tooth.tooth_selected,'cc-perio-selected','')}" onclick="toggle_tooth('{!tooth.tooth_num}');" >
                <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-tooth">
                  <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-img-container">
                    <img class="cc-perio-thumbToothImg-upper" src="{!URLFOR($Resource.Dental_Practice_Resources, tooth.t_image)}" />
                  </apex:outputpanel>
                </apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-number-upper">
                  <apex:outputpanel layout="block" styleclass="{!tooth.tooth_label_css}">{!tooth.tooth_num}</apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
        </apex:outputpanel>
        <!--end POT Search Holder-->
      </apex:outputpanel> <!--End POT Selection Holder-->

    </apex:outputpanel>
  </apex:outputpanel>
  </apex:outputpanel>
  <!---END Tooth Selection Modal------->

  <!---START Variable Tooth Selection Modal------->
  <apex:outputpanel layout="block" rendered="{!display_var_tooth_modal}">
  <apex:outputpanel layout="block"  styleclass="cc-clinical-addPOT-wrapper" style="z-index: 10100; opacity: 1;" id="var_tooth_holder">
    <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-container" style="box-shadow: rgba(0, 0, 0, 0.74902) 0px 0px 70px -15px;">
    <apex:messages style="display:inline;" />
      <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-close">
        <apex:outputpanel layout="block" onclick="cvar_tooth_modal();">
          <i class="ccf-cancel-thin cc-color-font-black cc-cursor-hover"></i>
        </apex:outputpanel>
      </apex:outputpanel>

      <!--START POT Selection Holder-->
      <apex:outputpanel layout="block" style="width:100%;">
        <apex:outputpanel layout="block" styleclass="cc-clinical-addPOT-section-topHeader">{!tooth_chart_label} - {!current_variable_tooth_selections}</apex:outputpanel>
        <!--POT Search Holder---->
        <apex:outputpanel layout="block" style="width:100%;">
          <apex:outputpanel layout="block" styleclass="cc-perio-teeth-row-container-upper">

            <apex:outputpanel layout="block" rendered="{!if(target_field=='Extraction_teeth__c',true,false)}" styleclass="cc-perio-teeth-cell-container" style="{!if(variable_tooth_max_selected,'color:white;background-color:rgba(102, 102, 102, 0.75);border-radius:15px;','color: black;background-color: rgba(221, 221, 221, 0.25);border-radius: 15px;border: 2px solid #ddd;')}" onclick="toggle_var_tooth('All Max');" >
              <div class="vertical-text">All Max</div>
            </apex:outputpanel>
            <apex:repeat var="tooth" value="{!upper_variable_tooth_chart}">
              <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-container {!if(tooth.tooth_selected,'cc-perio-selected','')}" onclick="toggle_var_tooth('{!tooth.tooth_num}');" >
                <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-tooth">
                  <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-img-container">
                    <img class="cc-perio-thumbToothImg-upper" src="{!URLFOR($Resource.Dental_Practice_Resources, tooth.t_image)}" />
                  </apex:outputpanel>
                </apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-number-upper">
                  <apex:outputpanel layout="block" styleclass="{!tooth.tooth_label_css}">{!tooth.tooth_num}</apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-perio-row-divider">
            <apex:outputpanel layout="block">&nbsp;</apex:outputpanel>
          </apex:outputpanel>
          <apex:outputpanel layout="block" styleclass="cc-perio-teeth-row-container-lower">
            <apex:outputpanel layout="block" rendered="{!if(target_field=='Extraction_teeth__c',true,false)}" styleclass="cc-perio-teeth-cell-container" style="{!if(variable_tooth_mand_selected,'color:white;background-color:rgba(10, 102, 224, 0.50);border-radius:15px;','color: black;background-color: rgba(221, 221, 221, 0.25);border-radius: 15px;border: 2px solid #ddd;')}" onclick="toggle_var_tooth('All Mand');" >
              <div class="vertical-text">All Mand</div>
            </apex:outputpanel>
            <apex:repeat var="tooth" value="{!lower_variable_tooth_chart}">
              <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-container {!if(tooth.tooth_selected,'cc-perio-selected','')}" onclick="toggle_var_tooth('{!tooth.tooth_num}');" >
                <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-tooth">
                  <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-img-container">
                    <img class="cc-perio-thumbToothImg-upper" src="{!URLFOR($Resource.Dental_Practice_Resources, tooth.t_image)}" />
                  </apex:outputpanel>
                </apex:outputpanel>
                <apex:outputpanel layout="block" styleclass="cc-perio-teeth-cell-number-upper">
                  <apex:outputpanel layout="block" styleclass="{!tooth.tooth_label_css}">{!tooth.tooth_num}</apex:outputpanel>
                </apex:outputpanel>
              </apex:outputpanel>
            </apex:repeat>
          </apex:outputpanel>
        </apex:outputpanel>
        <!--end POT Search Holder-->
      </apex:outputpanel> <!--End POT Selection Holder-->

    </apex:outputpanel>
  </apex:outputpanel>
  </apex:outputpanel>
  <!---END Variable Tooth Selection Modal------->

  </apex:outputpanel> <!--end cc-content-container-->
</apex:outputpanel> <!--end cc-content-wrapper-->
</apex:outputpanel> <!--end cc-wrapper-->

<script>
  function refresh_top_nav() {
    nav_bar_refresh();
    setTimeout("refresh_top_nav()",600000);
  }

  function initial_rx_refresh() {
    refresh_rx_list_no_target();
  }

  window.onload = function() {
    init_apt_sort();
    setTimeout("refresh_top_nav();",600000);
    setTimeout("initial_rx_refresh();",1000);
  }
</script>
</apex:form>
</body>
</apex:page>